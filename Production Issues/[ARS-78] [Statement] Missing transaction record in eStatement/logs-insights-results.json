[
    {
        "@timestamp": "2024-09-28 03:10:04.525",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:10:04.525Z",
            "@version": "1",
            "message": "Could not process the command with id 37394f37-8ac4-4b6d-98ae-cd1efcbadaaf, reason: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement",
            "logger_name": "com.arbm.digibank.processor.TransactionCommandProcessor",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "ERROR",
            "level_value": 40000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "8706a0399ec2de3e",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:10:04.524",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:10:04.523Z",
            "@version": "1",
            "message": "ERROR: value too long for type character varying(100)",
            "logger_name": "org.hibernate.engine.jdbc.spi.SqlExceptionHelper",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "ERROR",
            "level_value": 40000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "8706a0399ec2de3e",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:10:04.524",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:10:04.524Z",
            "@version": "1",
            "message": "HHH000010: On release of batch it still contained JDBC statements",
            "logger_name": "org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "8706a0399ec2de3e",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:10:04.523",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:10:04.523Z",
            "@version": "1",
            "message": "SQL Error: 0, SQLState: 22001",
            "logger_name": "org.hibernate.engine.jdbc.spi.SqlExceptionHelper",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "WARN",
            "level_value": 30000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "8706a0399ec2de3e",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:10:04.519",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:10:04.519Z",
            "@version": "1",
            "message": "CreateTransactionCommand caught",
            "logger_name": "com.arbm.digibank.processor.TransactionCommandProcessor",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "8706a0399ec2de3e",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:10:00.512",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:10:00.512Z",
            "@version": "1",
            "message": "Could not process the command with id 37394f37-8ac4-4b6d-98ae-cd1efcbadaaf, reason: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement",
            "logger_name": "com.arbm.digibank.processor.TransactionCommandProcessor",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "ERROR",
            "level_value": 40000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "c7a0253d0ffff56e",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:10:00.511",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:10:00.511Z",
            "@version": "1",
            "message": "SQL Error: 0, SQLState: 22001",
            "logger_name": "org.hibernate.engine.jdbc.spi.SqlExceptionHelper",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "WARN",
            "level_value": 30000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "c7a0253d0ffff56e",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:10:00.511",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:10:00.511Z",
            "@version": "1",
            "message": "ERROR: value too long for type character varying(100)",
            "logger_name": "org.hibernate.engine.jdbc.spi.SqlExceptionHelper",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "ERROR",
            "level_value": 40000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "c7a0253d0ffff56e",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:10:00.511",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:10:00.511Z",
            "@version": "1",
            "message": "HHH000010: On release of batch it still contained JDBC statements",
            "logger_name": "org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "c7a0253d0ffff56e",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:10:00.506",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:10:00.506Z",
            "@version": "1",
            "message": "CreateTransactionCommand caught",
            "logger_name": "com.arbm.digibank.processor.TransactionCommandProcessor",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "c7a0253d0ffff56e",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:09:56.207",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:09:56.207Z",
            "@version": "1",
            "message": "Could not process the command with id 37394f37-8ac4-4b6d-98ae-cd1efcbadaaf, reason: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement",
            "logger_name": "com.arbm.digibank.processor.TransactionCommandProcessor",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "ERROR",
            "level_value": 40000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "a01cfcd2fcae0606",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:09:56.196",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:09:56.196Z",
            "@version": "1",
            "message": "HHH000010: On release of batch it still contained JDBC statements",
            "logger_name": "org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "a01cfcd2fcae0606",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:09:56.195",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:09:56.195Z",
            "@version": "1",
            "message": "SQL Error: 0, SQLState: 22001",
            "logger_name": "org.hibernate.engine.jdbc.spi.SqlExceptionHelper",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "WARN",
            "level_value": 30000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "a01cfcd2fcae0606",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:09:56.195",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:09:56.195Z",
            "@version": "1",
            "message": "ERROR: value too long for type character varying(100)",
            "logger_name": "org.hibernate.engine.jdbc.spi.SqlExceptionHelper",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "ERROR",
            "level_value": 40000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "a01cfcd2fcae0606",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:09:56.188",
        "kubernetes.container_name": "transaction-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:09:56.188Z",
            "@version": "1",
            "message": "CreateTransactionCommand caught",
            "logger_name": "com.arbm.digibank.processor.TransactionCommandProcessor",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "transaction-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "a01cfcd2fcae0606",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2024-09-28 03:09:56.188",
        "kubernetes.container_name": "payment-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:09:56.188Z",
            "@version": "1",
            "message": "Published CreateTransactionCommand with referenceId: {\"referenceId\": \"37394f37-8ac4-4b6d-98ae-cd1efcbadaaf\", \"type\": \"DUITNOW_ACCOUNT\", \"amount\": 8670, \"currency\": \"MYR\", \"creationTimestamp\": \"2024-09-28T03:09:56.154Z\", \"source\": {\"accountId\": \"2213a6ce-6498-4f4e-93a5-5a68e9ee6792\", \"customerId\": \"1691903671917893\", \"accountNumber\": \"912010110150725\", \"name\": \"SAW JUN-YU\", \"smeId\": null}, \"destination\": {\"accountId\": null, \"customerId\": null, \"accountNumber\": \"8001323342\", \"name\": \"KOH WAI HONG                                                                    CHARLES STEPHEN ALAN JOURDAN\", \"smeId\": null}, \"status\": \"COMMITTED\", \"otherDetails\": null, \"recipientReference\": \"deposit the address 2 C 25 02\", \"merchantCode\": null, \"isInitialPayment\": false}",
            "logger_name": "com.arbm.digibank.producer.CreateTransactionCommandProducer",
            "thread_name": "kafka-producer-network-thread | producer-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "payment-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "2069aef21d89403e",
            "bc": "payments"
        }
    },
    {
        "@timestamp": "2024-09-28 03:09:56.185",
        "kubernetes.container_name": "payment-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:09:56.185Z",
            "@version": "1",
            "message": "Repository method intercepted: \n signature: PaymentEntity com.arbm.digibank.repository.payment.PaymentRepository.findByExternalRequestId(String)\n parameters: [O20240928RJHIMYKL010ORM91004630]\n totalTime: 1 ms\n result: SUCCESS",
            "logger_name": "com.arbm.digibank.aspect.RepositoryPerformanceTrackingAspect",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#5-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "payment-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "ebe4ead1a92ffbab",
            "bc": "payments"
        }
    },
    {
        "@timestamp": "2024-09-28 03:09:56.184",
        "kubernetes.container_name": "payment-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:09:56.184Z",
            "@version": "1",
            "message": "Received TM Posting Instruction Batch history event: PostingInstructionBatch(id=37394f37-8ac4-4b6d-98ae-cd1efcbadaaf, createRequestId=O20240928RJHIMYKL010ORM91004630, clientId=payments, clientBatchId=O20240928RJHIMYKL010ORM91004630, postingInstructions=[PostingInstruction(id=230557dd-a79c-4edf-9443-01b694ee675f, clientTransactionId=baa4dbdc-ba29-4740-b411-f7b4a4efcf9c, pics=[], instructionDetails={PAYMENT_CATEGORY=cat_duitnow_acc_proxy, PAYMENT_TYPE=duitnow_acc_interbank, busMsgId=20240928RJHIMYKL01091004630, cdtracctTpPrtry=CACC, dbtracctTpPrtry=SVGS, paymentType=DUITNOW_ACC, transferType=4}, committedPostings=[Posting(credit=false, amount=8670, denomination=MYR, accountId=2213a6ce-6498-4f4e-93a5-5a68e9ee6792, accountAddress=DEFAULT, asset=COMMERCIAL_BANK_MONEY, phase=POSTING_PHASE_COMMITTED), Posting(credit=true, amount=8670, denomination=MYR, accountId=PAYNET_RPP_SETTLEMENT, accountAddress=DEFAULT, asset=COMMERCIAL_BANK_MONEY, phase=POSTING_PHASE_COMMITTED)], postingViolations=[], accountViolations=[], restrictionViolations=[], contractViolations=[], override=OverrideObj(restrictions=Restrictions(all=false, restrictionSetIds=[])), transactionCode=null, outboundAuthorisation=null, inboundAuthorisation=null, authorisationAdjustment=null, settlement=null, release=null, inboundHardSettlement=null, outboundHardSettlement=ExternalPostingInstruction(amount=8670, denomination=MYR, targetAccount=Account(paymentDeviceToken=null, accountId=2213a6ce-6498-4f4e-93a5-5a68e9ee6792), internalAccountId=PAYNET_RPP_SETTLEMENT, advice=false), transfer=null, customInstruction=null)], batchDetails={original_posting_client_batch_id=O20240928RJHIMYKL010ORM91004630}, valueTimestamp=2024-09-28T03:09:56.154483Z, status=POSTING_INSTRUCTION_BATCH_STATUS_ACCEPTED, error=null, insertionTimestamp=2024-09-28T03:09:56.154483Z, dryRun=false)",
            "logger_name": "com.arbm.digibank.consumer.PaymentVaultPostingConsumer",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#5-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "payment-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "ebe4ead1a92ffbab",
            "bc": "payments"
        }
    },
    {
        "@timestamp": "2024-09-28 03:09:56.184",
        "kubernetes.container_name": "payment-service",
        "logBody": {
            "@timestamp": "2024-09-28T03:09:56.184Z",
            "@version": "1",
            "message": "Preparing posting history kafka event with postingInstructionBatch id: 37394f37-8ac4-4b6d-98ae-cd1efcbadaaf",
            "logger_name": "com.arbm.digibank.service.PostingHistoryService",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#5-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "payment-service",
            "traceId": "66f773846983b1e24bfedcbfd08b7553",
            "spanId": "ebe4ead1a92ffbab",
            "bc": "payments"
        }
    }
]