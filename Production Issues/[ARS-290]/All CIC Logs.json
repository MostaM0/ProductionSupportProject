[
    {
        "@timestamp": "2025-02-07 05:28:32.419",
        "kubernetes.container_name": "finexus-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:28:32.418Z",
            "@version": "1",
            "message": "Start element sequenceNo",
            "logger_name": "org.apache.axis.encoding.SerializationContext",
            "thread_name": "http-nio-8080-exec-7",
            "level": "DEBUG",
            "level_value": 10000,
            "bc": "cards",
            "traceId": "67a59a00239de4adf6240e0f5dea316b",
            "spanId": "f6240e0f5dea316b"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:48.636",
        "kubernetes.container_name": "notification-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:48.636Z",
            "@version": "1",
            "message": "Get the notification template name CARD_ACC_NOT_AVAIL, for customer 418733",
            "logger_name": "com.arbm.digibank.service.NotificationTemplateService",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "notification-service",
            "traceId": "67a5977caa66e81f3917ee89efd3e104",
            "spanId": "22840220d0eda95e",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:48.636",
        "kubernetes.container_name": "notification-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:48.636Z",
            "@version": "1",
            "message": "Notification Entity:  NotificationsEntity(notificationId=f83c14f6-96da-4298-97c5-32b85e5739d3, customerId=418733, content=Your payment to PUBLIC BANK BER on 07/02/2025 13:17:47 has failed. Call the Bank if you did not perform this transaction., header=Your payment has failed, isRead=false, internalNotifId=94dfe0af-6575-43a2-8de3-99823bd4c506, isDeleted=false) ",
            "logger_name": "com.arbm.digibank.service.NotificationOnesignalService",
            "thread_name": "DefaultDispatcher-worker-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "notification-service",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:48.612",
        "kubernetes.container_name": "customer-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:48.612Z",
            "@version": "1",
            "message": "Get devices for customerId: 418733",
            "logger_name": "com.arbm.digibank.controller.CustomerController",
            "thread_name": "http-nio-8080-exec-5",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "customer-service",
            "traceId": "67a5977cdf1b61b162d699ce9ad30043",
            "spanId": "62d699ce9ad30043",
            "bc": "customers"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:48.612",
        "kubernetes.container_name": "customer-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:48.612Z",
            "@version": "1",
            "message": " Getting devices for customer=418733 and status=ACTIVE_VERIFIED",
            "logger_name": "com.arbm.digibank.service.CustomerQueryService",
            "thread_name": "http-nio-8080-exec-5",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "customer-service",
            "traceId": "67a5977cdf1b61b162d699ce9ad30043",
            "spanId": "62d699ce9ad30043",
            "bc": "customers"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:48.611",
        "kubernetes.container_name": "notification-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:48.611Z",
            "@version": "1",
            "message": "Retrieving DeviceId from customer-service. CustomerId: [418733]",
            "logger_name": "com.arbm.digibank.service.CustomerService",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "notification-service",
            "traceId": "67a5977caa66e81f3917ee89efd3e104",
            "spanId": "22840220d0eda95e",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:48.575",
        "kubernetes.container_name": "notification-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:48.575Z",
            "@version": "1",
            "message": "consumeCreateNotificationCommand, notificationId: 94dfe0af-6575-43a2-8de3-99823bd4c506, customerId: 418733, templateName: CARD_ACC_NOT_AVAIL",
            "logger_name": "com.arbm.digibank.processor.CreateNotificationCommandProcessor",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "notification-service",
            "traceId": "67a5977caa66e81f3917ee89efd3e104",
            "spanId": "22840220d0eda95e",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:48.575",
        "kubernetes.container_name": "notification-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:48.575Z",
            "@version": "1",
            "message": "Retrieving customer information from customer-service. CustomerId: [418733]",
            "logger_name": "com.arbm.digibank.service.CustomerService",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "notification-service",
            "traceId": "67a5977caa66e81f3917ee89efd3e104",
            "spanId": "22840220d0eda95e",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.658",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.621Z",
            "@version": "1",
            "message": "\n            send CARD_ACC_NOT_AVAIL notification to customerId=0000000000418733 \n            with notificationId=94dfe0af-6575-43a2-8de3-99823bd4c506 \n            and placeholders={\"name\": \"Amount\", \"value\": \"107.90\"}, {\"name\": \"Transaction date\", \"value\": \"07/02/2025\"}, {\"name\": \"Transaction time\", \"value\": \"13:17:47\"}, {\"name\": \"Payee Name\", \"value\": \"PUBLIC BANK BER\"}, {\"name\": \"supportPhone\", \"value\": \"the Bank\"}\n        ",
            "logger_name": "com.arbm.digibank.utils.NotificationUtils",
            "thread_name": "DefaultDispatcher-worker-4",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.658",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.621Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "http-nio-8080-exec-3",
            "level": "ERROR",
            "level_value": 40000,
            "bc": "cards",
            "traceId": "67a5977ba37aa082f08ac109f7f15765",
            "spanId": "f08ac109f7f15765",
            "RequestId": "SWTRA 202502071317471740676494",
            "data": {
                "requestId": "\"SWTRA 202502071317471740676494\"",
                "functionId": "CardPaymentService.doAtmDebitCredit-gIAlu-s",
                "input": {
                    "requestId": "\"SWTRA 202502071317471740676494\"",
                    "request": "{\"cicId\":\"0000000000418733\",\"transferType\":\"D\",\"accountBranchCode\":\"91201\",\"accountNumber\":\"0110000193\",\"accountRelationType\":\"700\",\"amount\":107.9,\"startDate\":\"20250207\",\"rrn\":\"503805066502\",\"messageTypeIndicator\":\"0200\",\"pan\":\"4321XXXXXXXX2271\",\"tcc\":\"00\",\"currencyCode\":\"458\",\"amountInOriginalCurrency\":10790,\"cardHolderBillCurrencyCode\":\"458\",\"cardHolderBillAmount\":10790.0,\"cardExpiry\":\"2904\",\"lifeCycleId\":\"SWTRA 202502071317471740676494\",\"posReadMethod\":\"0007\",\"mcc\":\"5812\",\"acceptorId\":\"CARD ACCEPTOR  SENMU\",\"acceptorName\":\"PUBLIC BANK BERHAD    KUALA LUMPUR    MY\",\"acceptorZip\":\"KUL\",\"acceptorCountryCode\":\"458\",\"cardPresence\":\"Y\",\"cardBIN\":\"432134\",\"cardBrand\":\"MYD\",\"occurredAt\":\"20250207131747174\",\"posCond\":\"00\",\"terminalId\":\"41023483\",\"secure3DValStatus\":\"\",\"cvvValCode\":\"X\",\"posCardHolderVerMethod\":\"\",\"accessCode\":null,\"remarks\":\"07/02/2025 13:17:45 MYDEBIT PURCHASE 503805066502 PUBLIC BANK BER MYR 107.90\",\"feeAmount\":0.0,\"functionId\":\"MYDPU\",\"denomination\":\"MYR\"}"
                },
                "result": "com.arbm.digibank.exception.AccountNotAvailableException: Account not available from framl with decision is: decline\n\tat com.arbm.digibank.service.CardMonitoringService.checkFraml(CardMonitoringService.kt:65)\n\tat com.arbm.digibank.service.CardMonitoringService$$FastClassBySpringCGLIB$$7ccb2cbe.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n\tat com.arbm.digibank.interceptor.MethodLogInterceptor$logAround$2$1.invokeSuspend(MethodLogInterceptor.kt:52)\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n\tat kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\n\tat kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n\tat kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n\tat kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n\tat com.arbm.digibank.interceptor.MethodLogInterceptor.logAround(MethodLogInterceptor.kt:51)\n\tat com.arbm.digibank.interceptor.ServiceLogInterceptor.logServiceCall(ServiceLogInterceptor.kt:41)\n\tat jdk.internal.reflect.GeneratedMethodAccessor266.invoke(Unknown Source)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n\tat com.arbm.digibank.service.CardMonitoringService$$EnhancerBySpringCGLIB$$ba0c571f.checkFraml(<generated>)\n\tat com.arbm.digibank.service.CardPaymentService$doAtmDebitCreditSuspended$2$framlCheckJob$1.invokeSuspend(CardPaymentService.kt:241)\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n\tat kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\n\tat kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\n",
                "processTime": 406
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.658",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.622Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "http-nio-8080-exec-3",
            "level": "ERROR",
            "level_value": 40000,
            "bc": "cards",
            "traceId": "67a5977ba37aa082f08ac109f7f15765",
            "spanId": "f08ac109f7f15765",
            "RequestId": "SWTRA 202502071317471740676494",
            "data": {
                "requestId": "\"SWTRA 202502071317471740676494\"",
                "functionId": "PurchasingController.doAtmDebitCredit",
                "input": {
                    "requestId": "\"SWTRA 202502071317471740676494\"",
                    "debitCreditRequest": "{\"cicId\":\"0000000000418733\",\"transferType\":\"D\",\"accountBranchCode\":\"91201\",\"accountNumber\":\"0110000193\",\"accountRelationType\":\"700\",\"amount\":107.9,\"startDate\":\"20250207\",\"rrn\":\"503805066502\",\"messageTypeIndicator\":\"0200\",\"pan\":\"4321XXXXXXXX2271\",\"tcc\":\"00\",\"currencyCode\":\"458\",\"amountInOriginalCurrency\":10790,\"cardHolderBillCurrencyCode\":\"458\",\"cardHolderBillAmount\":10790.0,\"cardExpiry\":\"2904\",\"lifeCycleId\":\"SWTRA 202502071317471740676494\",\"posReadMethod\":\"0007\",\"mcc\":\"5812\",\"acceptorId\":\"CARD ACCEPTOR  SENMU\",\"acceptorName\":\"PUBLIC BANK BERHAD    KUALA LUMPUR    MY\",\"acceptorZip\":\"KUL\",\"acceptorCountryCode\":\"458\",\"cardPresence\":\"Y\",\"cardBIN\":\"432134\",\"cardBrand\":\"MYD\",\"occurredAt\":\"20250207131747174\",\"posCond\":\"00\",\"terminalId\":\"41023483\",\"secure3DValStatus\":\"\",\"cvvValCode\":\"X\",\"posCardHolderVerMethod\":\"\",\"accessCode\":null,\"remarks\":\"07/02/2025 13:17:45 MYDEBIT PURCHASE 503805066502 PUBLIC BANK BER MYR 107.90\",\"feeAmount\":0.0,\"functionId\":\"MYDPU\",\"denomination\":\"MYR\"}"
                },
                "result": "com.arbm.digibank.exception.AccountNotAvailableException: Account not available from framl with decision is: decline\n\tat com.arbm.digibank.service.CardMonitoringService.checkFraml(CardMonitoringService.kt:65)\n\tat com.arbm.digibank.service.CardMonitoringService$$FastClassBySpringCGLIB$$7ccb2cbe.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n\tat com.arbm.digibank.interceptor.MethodLogInterceptor$logAround$2$1.invokeSuspend(MethodLogInterceptor.kt:52)\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n\tat kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\n\tat kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n\tat kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n\tat kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n\tat com.arbm.digibank.interceptor.MethodLogInterceptor.logAround(MethodLogInterceptor.kt:51)\n\tat com.arbm.digibank.interceptor.ServiceLogInterceptor.logServiceCall(ServiceLogInterceptor.kt:41)\n\tat jdk.internal.reflect.GeneratedMethodAccessor266.invoke(Unknown Source)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n\tat com.arbm.digibank.service.CardMonitoringService$$EnhancerBySpringCGLIB$$ba0c571f.checkFraml(<generated>)\n\tat com.arbm.digibank.service.CardPaymentService$doAtmDebitCreditSuspended$2$framlCheckJob$1.invokeSuspend(CardPaymentService.kt:241)\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n\tat kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\n\tat kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\n",
                "processTime": 407
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.658",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.622Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "DefaultDispatcher-worker-4",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards",
            "data": {
                "requestId": null,
                "functionId": "KafkaTemplate.send",
                "input": {
                    "topic": "\"shared.notification.push-request.v1\"",
                    "data": "{\"customerId\":\"418733\",\"notificationId\":\"94dfe0af-6575-43a2-8de3-99823bd4c506\",\"templateName\":\"CARD_ACC_NOT_AVAIL\",\"placeholders\":[{\"name\":\"Amount\",\"value\":\"107.90\"},{\"name\":\"Transaction date\",\"value\":\"07/02/2025\"},{\"name\":\"Transaction time\",\"value\":\"13:17:47\"},{\"name\":\"Payee Name\",\"value\":\"PUBLIC BANK BER\"},{\"name\":\"supportPhone\",\"value\":\"the Bank\"}]}"
                },
                "result": {
                    "done": false,
                    "cancelled": false
                },
                "processTime": 1
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.658",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.622Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "DefaultDispatcher-worker-4",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards",
            "data": {
                "requestId": null,
                "functionId": "KafkaPublisherService.requestPushNoti",
                "input": {
                    "createNotificationCommand": "{\"customerId\":\"418733\",\"notificationId\":\"94dfe0af-6575-43a2-8de3-99823bd4c506\",\"templateName\":\"CARD_ACC_NOT_AVAIL\",\"placeholders\":[{\"name\":\"Amount\",\"value\":\"107.90\"},{\"name\":\"Transaction date\",\"value\":\"07/02/2025\"},{\"name\":\"Transaction time\",\"value\":\"13:17:47\"},{\"name\":\"Payee Name\",\"value\":\"PUBLIC BANK BER\"},{\"name\":\"supportPhone\",\"value\":\"the Bank\"}]}"
                },
                "result": null,
                "processTime": 1
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.624",
        "kubernetes.container_name": "finexus-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.623Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "http-nio-8080-exec-7",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards",
            "traceId": "67a5977b4c6c7d744c56b37b4cc1a11a",
            "spanId": "d4644935867f522f",
            "data": {
                "requestId": null,
                "functionId": "CardPaymentController.doATMSingleDebitCredit",
                "input": {
                    "request": "{\"name\":\"{http://finmeccanica.com/services/rcm/objectsIFX}DoATMSingleDebitCreditMsgRq\",\"declaredType\":\"generated.jaxb.server.rcm.DoATMSingleDebitCreditMsgRqType\",\"scope\":\"javax.xml.bind.JAXBElement$GlobalScope\",\"value\":{\"rqUID\":\"SWTRA 202502071317471740676494\",\"msgRqHdr\":{\"asyncRqUID\":null,\"svcIdent\":null,\"credentialsRqHdr\":[{\"subjectRole\":\"SystemUser\",\"startSession\":null,\"partyRef\":null,\"seqNum\":null,\"secTokenCertOrSecTokenICCOrSecTokenMagCard\":[{\"secTokenOwner\":null,\"loginName\":\"CWS\",\"subjectPswd\":null,\"subjectPassCode\":null}],\"ovrdExceptionCode\":null}],\"contextRqHdr\":{\"fieldSelect\":[],\"clientTerminalSeqNum\":null,\"networkTrnData\":{\"networkOwner\":\"CWS\",\"originatorName\":null,\"originatorType\":null,\"terminalIdent\":null,\"terminalType\":null,\"postAddr\":null,\"desc\":null,\"name\":null,\"networkRefIdent\":null,\"acquirerIdent\":null,\"merchNum\":null,\"mcc\":null,\"fiidentType\":null,\"fiident\":null},\"pointOfServiceData\":null,\"msgAuthCode\":null,\"clientDt\":null,\"custLangPref\":\"en\",\"clearingLangCode\":null,\"clientApp\":null,\"proxyClient\":null,\"msgGroupReference\":null,\"emvrqData\":null},\"feeRqHdr\":[]},\"doATMSingleDebitCredit\":{\"accessCode\":null,\"internalReferenceNumber\":null,\"partyId\":\"0000000000418733\",\"transferType\":\"D\",\"accountBranchCodeFrom\":\"91201\",\"accountRelationTypeFrom\":\"700\",\"accountNumberFrom\":\"0110000193\",\"curAmt\":{\"amt\":107.90,\"curCode\":null},\"remarks\":\"07/02/2025 13:17:45 MYDEBIT PURCHASE 503805066502 PUBLIC BANK BER MYR 107.90\",\"startDate\":\"20250207\",\"functionId\":\"MYDPU\",\"feeAmt\":{\"amt\":0,\"curCode\":null},\"rrn\":\"503805066502\",\"messageTypeIndicator\":\"0200\",\"pan\":\"4321XXXXXXXX2271\",\"tcc\":\"00\",\"currencyCode\":\"458\",\"amountInOriginalCurrency\":10790,\"cardHolderBillCurrencyCode\":\"458\",\"cardHolderBillAmount\":10790,\"cardExpiry\":null,\"lifeCycleId\":\"SWTRA 202502071317471740676494\",\"mcc\":\"5812\",\"acceptorId\":null,\"acceptorName\":\"PUBLIC BANK BERHAD    KUALA LUMPUR    MY\",\"acceptorZip\":null,\"acceptorCountryCode\":\"458\",\"cardPresence\":\"Y\",\"cardBIN\":\"432134\",\"cardBrand\":\"MYD\",\"occurredAt\":\"20250207131747174\",\"terminalID\":\"41023483\",\"secure3DValStatus\":null,\"posreadMethod\":\"0007\",\"poscond\":null,\"cvvvalCode\":\"X\",\"poscardHolderVerMethod\":null}},\"nil\":false,\"globalScope\":true,\"typeSubstituted\":false}"
                },
                "result": {
                    "name": "{http://finmeccanica.com/services/rcm/objectsIFX}DoATMSingleDebitCreditMsgRs",
                    "declaredType": "generated.jaxb.server.rcm.DoATMSingleDebitCreditMsgRsType",
                    "scope": "javax.xml.bind.JAXBElement$GlobalScope",
                    "value": {
                        "status": {
                            "statusCode": 2401,
                            "serverStatusCode": null,
                            "severity": null,
                            "statusDesc": "Account not available",
                            "subjectElement": [],
                            "additionalStatus": [],
                            "asyncRsData": null,
                            "id": null
                        },
                        "rqUID": "SWTRA 202502071317471740676494",
                        "msgRsHdr": null,
                        "dualBalanceRs": null
                    },
                    "nil": false,
                    "globalScope": true,
                    "typeSubstituted": false
                },
                "processTime": 411
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.623",
        "kubernetes.container_name": "finexus-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.623Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "http-nio-8080-exec-7",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards",
            "traceId": "67a5977b4c6c7d744c56b37b4cc1a11a",
            "spanId": "d4644935867f522f",
            "data": {
                "requestId": "SWTRA 202502071317471740676494",
                "functionId": "CardPaymentService.doATMSingleDebitCredit",
                "input": {
                    "requestId": "\"SWTRA 202502071317471740676494\"",
                    "request": "{\"cicId\":\"0000000000418733\",\"transferType\":\"DEBIT\",\"accountBranchCode\":\"91201\",\"accountNumber\":\"0110000193\",\"accountRelationType\":\"700\",\"amount\":107.9,\"startDate\":\"20250207\",\"rrn\":\"503805066502\",\"messageTypeIndicator\":\"0200\",\"pan\":\"4321XXXXXXXX2271\",\"tcc\":\"00\",\"currencyCode\":\"458\",\"amountInOriginalCurrency\":10790,\"cardHolderBillCurrencyCode\":\"458\",\"cardHolderBillAmount\":10790.0,\"cardExpiry\":\"2904\",\"lifeCycleId\":\"SWTRA 202502071317471740676494\",\"posReadMethod\":\"0007\",\"mcc\":\"5812\",\"acceptorId\":\"CARD ACCEPTOR  SENMU\",\"acceptorName\":\"PUBLIC BANK BERHAD    KUALA LUMPUR    MY\",\"acceptorZip\":\"KUL\",\"acceptorCountryCode\":\"458\",\"cardPresence\":\"Y\",\"cardBIN\":\"432134\",\"cardBrand\":\"MYD\",\"occurredAt\":\"20250207131747174\",\"posCond\":\"00\",\"terminalId\":\"41023483\",\"secure3DValStatus\":\"\",\"cvvValCode\":\"X\",\"posCardHolderVerMethod\":\"\",\"accessCode\":null,\"remarks\":\"07/02/2025 13:17:45 MYDEBIT PURCHASE 503805066502 PUBLIC BANK BER MYR 107.90\",\"feeAmount\":0.0,\"functionId\":\"MYDPU\",\"denomination\":\"MYR\"}"
                },
                "result": {
                    "statusCode": "2401",
                    "statusSeverity": null,
                    "statusDescription": "Account not available",
                    "transactionReferenceId": null,
                    "ledgerBalanceDescription": null,
                    "ledgerBalanceAmount": null,
                    "availableBalanceDescripiton": null,
                    "availableBalanceAmount": null
                },
                "processTime": 411
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.590",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.59Z",
            "@version": "1",
            "message": "FEEDZAI: 7 Response received from feedzai api: <200,{\"status\":\"ok\",\"id\":\"418733\"},[Date:\"Fri, 07 Feb 2025 05:17:47 GMT\", Server:\"HTTP Server\", X-Frame-Options:\"SAMEORIGIN\", Strict-Transport-Security:\"max-age=31536000; includeSubdomains;\", X-Content-Type-Options:\"nosniff\", X-XSS-Protection:\"1; mode=block\", Cache-control:\"no-store, no-cache\", Content-Type:\"application/json\", Content-Length:\"29\", Keep-Alive:\"timeout=16\", Connection:\"Keep-Alive\"]>",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-6",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5977b453e7d6b1b660ee305380cc2",
            "spanId": "1b660ee305380cc2",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.590",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.59Z",
            "@version": "1",
            "message": "FEEDZAI: 7.1 End Feedzai request in try block, ID: 639d92b3-ccaa-4e55-a6f0-be971f99bebe, total: 27 ms, endpoint: PATCH /api/referenceData/customers/418733",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-6",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5977b453e7d6b1b660ee305380cc2",
            "spanId": "1b660ee305380cc2",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.590",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.59Z",
            "@version": "1",
            "message": "FEEDZAI: 8 returning result: <200,{\"status\":\"ok\",\"id\":\"418733\"},[Date:\"Fri, 07 Feb 2025 05:17:47 GMT\", Server:\"HTTP Server\", X-Frame-Options:\"SAMEORIGIN\", Strict-Transport-Security:\"max-age=31536000; includeSubdomains;\", X-Content-Type-Options:\"nosniff\", X-XSS-Protection:\"1; mode=block\", Cache-control:\"no-store, no-cache\", Content-Type:\"application/json\", Content-Length:\"29\", Keep-Alive:\"timeout=16\", Connection:\"Keep-Alive\"]> : <200,{\"status\":\"ok\",\"id\":\"418733\"},[Date:\"Fri, 07 Feb 2025 05:17:47 GMT\", Server:\"HTTP Server\", X-Frame-Options:\"SAMEORIGIN\", Strict-Transport-Security:\"max-age=31536000; includeSubdomains;\", X-Content-Type-Options:\"nosniff\", X-XSS-Protection:\"1; mode=block\", Cache-control:\"no-store, no-cache\", Content-Type:\"application/json\", Content-Length:\"29\", Keep-Alive:\"timeout=16\", Connection:\"Keep-Alive\"]> ",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-6",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5977b453e7d6b1b660ee305380cc2",
            "spanId": "1b660ee305380cc2",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.590",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.59Z",
            "@version": "1",
            "message": "FEEDZAI: 9 return function call Feedzai result to controller: <200,{\"status\":\"ok\",\"id\":\"418733\"},[Date:\"Fri, 07 Feb 2025 05:17:47 GMT\", Server:\"HTTP Server\", X-Frame-Options:\"SAMEORIGIN\", Strict-Transport-Security:\"max-age=31536000; includeSubdomains;\", X-Content-Type-Options:\"nosniff\", X-XSS-Protection:\"1; mode=block\", Cache-control:\"no-store, no-cache\", Content-Type:\"application/json\", Content-Length:\"29\", Keep-Alive:\"timeout=16\", Connection:\"Keep-Alive\"]>",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-6",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5977b453e7d6b1b660ee305380cc2",
            "spanId": "1b660ee305380cc2",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.590",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.59Z",
            "@version": "1",
            "message": "FEEDZAI: 10 feedzaiProxyService return <200,{\"status\":\"ok\",\"id\":\"418733\"},[Date:\"Fri, 07 Feb 2025 05:17:47 GMT\", Server:\"HTTP Server\", X-Frame-Options:\"SAMEORIGIN\", Strict-Transport-Security:\"max-age=31536000; includeSubdomains;\", X-Content-Type-Options:\"nosniff\", X-XSS-Protection:\"1; mode=block\", Cache-control:\"no-store, no-cache\", Content-Type:\"application/json\", Content-Length:\"29\", Keep-Alive:\"timeout=16\", Connection:\"Keep-Alive\"]>",
            "logger_name": "com.arbm.digibank.controller.GatewayController",
            "thread_name": "http-nio-8080-exec-6",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5977b453e7d6b1b660ee305380cc2",
            "spanId": "1b660ee305380cc2",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.563",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.563Z",
            "@version": "1",
            "message": "FEEDZAI: 5 Start Feedzai request, ID: 639d92b3-ccaa-4e55-a6f0-be971f99bebe, endpoint: PATCH /api/referenceData/customers/418733",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-6",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5977b453e7d6b1b660ee305380cc2",
            "spanId": "1b660ee305380cc2",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.563",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.563Z",
            "@version": "1",
            "message": "FEEDZAI: 5.2 transfer request body {\n  \"customer_id\": \"418733\",\n  \"customer_type\": \"individual\",\n  \"customer_number_of_cards\": 1,\n  \"customer_cards\": [\n    {\n      \"card_id\": \"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\"\n    }\n  ]\n}",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-6",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5977b453e7d6b1b660ee305380cc2",
            "spanId": "1b660ee305380cc2",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.563",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.563Z",
            "@version": "1",
            "message": "FEEDZAI: 6 print httpEntity: <{\n  \"customer_id\": \"418733\",\n  \"customer_type\": \"individual\",\n  \"customer_number_of_cards\": 1,\n  \"customer_cards\": [\n    {\n      \"card_id\": \"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\"\n    }\n  ]\n},[accept:\"*/*\", content-type:\"application/json\", content-length:\"190\", user-agent:\"okhttp/4.9.3\", x-forwarded-proto:\"http\", x-request-id:\"e1f1f6f3-baca-9102-b2db-04630c0a2fa8\", x-envoy-expected-rq-timeout-ms:\"200000\", Authorization:\"Bearer eyJ0eXAiOiJKV1QiLCJraWQiOiI2MWEzOTAxZC05NDdhLTQ0MjYtYjIzMy01NjE3NDFmNTE1ODIiLCJhbGciOiJSUzUxMiJ9.eyJleHAiOjE3NDE0OTc0NjcsIm5iZiI6MTczODkwNTQ2NywiaXNzIjoiYXJibSIsInN1YiI6ImFyYm0iLCJqdGkiOiI0NmY4Njk5YS03NzcxLTRhZWUtOTk0OC05Mjg5NTNjYjBhMWMifQ.ARkEGWt1vddGsHa8T-sTo5_mHe1Bt4_y3UhBCp2NYx5_IErs5WqsaNdZ2vAmHkUAwDSdy81ZorSwOEWkx5tXb2AnGi5-p4JAlFAfjATFJ_yyqqRuTQXm1WdnDeqj7GBDma-NrpqB0H68T8IXl-NQdpNjd7a4_auYtjlJIStByo2wT1FD_5EyABjH_Edyhfv-z50Y3nTr4nZ4Vdw5RvlJU2T3SzCFm6x92jWMwDlWdHZxSDs00n7jUYANnUtjo2hxsc0bxtv8rQAu9XKvXar7TeLQLXrkRN-oemnGdTcvUWx6xY6NjKC-r55-6sNG6f8ipJ6c_5w2ZenQydNYE84RyxDDub9m-JVNKV_uS_YU2MLqSsfto706W8j3uokc4NB1WF9GGIXpXoyLn-iYZP36bT0o2j2DGxyG78PCfwEs3qQhEfLZmbYPsoZ8ofzohavJyRPUipwcEv-MfTxg-hW-femD_UT-w1EAVNDYVBoviwyU5i-XO8x790O2p7iKksdWfGwe5mBjIg-YTv3sdTZEJ5SllRvd9kIOTbFn9kAyjq2R7GFzsGD_L4WbqoV07_V7bY1xDm9G4GV3FNeWkVPlUEWOlJW8cdK8MeKtzX9y1WTY2C-ar9HmjKnv3ZVoq5MGvcvC_-iTjwbUZIwN6Z-16Vy5zspfiLQIWVmZ221cEQU\"]>, uri: https://alrajhi-private.feedzai.com/api/referenceData/customers/418733, method: PATCH",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-6",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5977b453e7d6b1b660ee305380cc2",
            "spanId": "1b660ee305380cc2",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.537",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.537Z",
            "@version": "1",
            "message": "FEEDZAI: 0.1 Initial Crr header: org.springframework.security.web.firewall.StrictHttpFirewall$StrictFirewalledRequest$2@37c8c006 , request: SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@1902198a], method: PATCH ,body: {\n  \"customer_id\": \"418733\",\n  \"customer_type\": \"individual\",\n  \"customer_number_of_cards\": 1,\n  \"customer_cards\": [\n    {\n      \"card_id\": \"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\"\n    }\n  ]\n}",
            "logger_name": "com.arbm.digibank.controller.GatewayController",
            "thread_name": "http-nio-8080-exec-6",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5977b453e7d6b1b660ee305380cc2",
            "spanId": "1b660ee305380cc2",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.537",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.537Z",
            "@version": "1",
            "message": "FEEDZAI: 1 request url for feedzai call /api/referenceData/customers/418733",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-6",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5977b453e7d6b1b660ee305380cc2",
            "spanId": "1b660ee305380cc2",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.536",
        "kubernetes.container_name": "reference-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.536Z",
            "@version": "1",
            "message": "patch request to feedzai to update customer reference for accountId: 418733",
            "logger_name": "com.arbm.digibank.service.FeedzaiReferenceCustomerService",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#7-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "reference-monitoring-service",
            "traceId": "67a5977b562b6b4201149e2d30af9363",
            "spanId": "6e148d0cefa9f562",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.426",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.425Z",
            "@version": "1",
            "message": "Record pushed with content ProducerRecord(topic=card.card-service.reference.v1, partition=null, headers=RecordHeaders(headers = [RecordHeader(key = x-amzn-trace-id, value = [82, 111, 111, 116, 61, 49, 45, 54, 55, 97, 53, 57, 55, 55, 98, 45, 53, 54, 50, 98, 54, 98, 52, 50, 48, 49, 49, 52, 57, 101, 50, 100, 51, 48, 97, 102, 57, 51, 54, 51, 59, 80, 97, 114, 101, 110, 116, 61, 54, 101, 54, 102, 53, 56, 57, 98, 99, 53, 100, 53, 101, 51, 99, 98, 59, 83, 97, 109, 112, 108, 101, 100, 61, 49])], isReadOnly = true), key=ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7, value={\"cardId\": \"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\", \"customerId\": \"418733\", \"accountId\": \"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\", \"accountNumber\": \"912010110000193\", \"cardEffectiveDate\": null, \"cardExpirationDate\": \"2904\", \"cardholderName\": null, \"cardType\": \"DEBIT\", \"cardCategory\": \"physical\", \"cardBrand\": \"MYD\", \"cardIssuer\": \"ARBM\", \"cardCountryCode\": \"MY\", \"cardLast4\": null, \"cardStatus\": null, \"cardTransactionAmountLimit\": null, \"secure3dValCode\": null, \"cardNumberOfCardholders\": 1, \"accountNumberOfCards\": 1, \"customerNumberOfCards\": 1}, timestamp=null)",
            "logger_name": "com.arbm.digibank.publisher.BankMessagePublisher",
            "thread_name": "kafka-producer-network-thread | producer-2",
            "level": "DEBUG",
            "level_value": 10000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5977b562b6b4201149e2d30af9363",
            "spanId": "6e6f589bc5d5e3cb",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.423",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.423Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "DefaultDispatcher-worker-4",
            "level": "ERROR",
            "level_value": 40000,
            "bc": "cards",
            "data": {
                "requestId": "\"SWTRA 202502071317471740676494\"",
                "functionId": "CardMonitoringService.checkFraml",
                "input": {
                    "requestId": "\"SWTRA 202502071317471740676494\"",
                    "request": "{\"cicId\":\"0000000000418733\",\"transferType\":\"D\",\"accountBranchCode\":\"91201\",\"accountNumber\":\"0110000193\",\"accountRelationType\":\"700\",\"amount\":107.9,\"startDate\":\"20250207\",\"rrn\":\"503805066502\",\"messageTypeIndicator\":\"0200\",\"pan\":\"4321XXXXXXXX2271\",\"tcc\":\"00\",\"currencyCode\":\"458\",\"amountInOriginalCurrency\":10790,\"cardHolderBillCurrencyCode\":\"458\",\"cardHolderBillAmount\":10790.0,\"cardExpiry\":\"2904\",\"lifeCycleId\":\"SWTRA 202502071317471740676494\",\"posReadMethod\":\"0007\",\"mcc\":\"5812\",\"acceptorId\":\"CARD ACCEPTOR  SENMU\",\"acceptorName\":\"PUBLIC BANK BERHAD    KUALA LUMPUR    MY\",\"acceptorZip\":\"KUL\",\"acceptorCountryCode\":\"458\",\"cardPresence\":\"Y\",\"cardBIN\":\"432134\",\"cardBrand\":\"MYD\",\"occurredAt\":\"20250207131747174\",\"posCond\":\"00\",\"terminalId\":\"41023483\",\"secure3DValStatus\":\"\",\"cvvValCode\":\"X\",\"posCardHolderVerMethod\":\"\",\"accessCode\":null,\"remarks\":\"07/02/2025 13:17:45 MYDEBIT PURCHASE 503805066502 PUBLIC BANK BER MYR 107.90\",\"feeAmount\":0.0,\"functionId\":\"MYDPU\",\"denomination\":\"MYR\"}",
                    "savingAccount": "{\"accountId\":\"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\",\"accountNumber\":\"912010110000193\",\"customerId\":\"418733\",\"status\":\"ACTIVE\",\"currency\":\"MYR\",\"openingTimestamp\":\"2022-05-12T08:28:26.628038Z\",\"blockDetails\":null}",
                    "cardId": "\"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\""
                },
                "result": "com.arbm.digibank.exception.AccountNotAvailableException: Account not available from framl with decision is: decline\n\tat com.arbm.digibank.service.CardMonitoringService.checkFraml(CardMonitoringService.kt:65)\n\tat com.arbm.digibank.service.CardMonitoringService$$FastClassBySpringCGLIB$$7ccb2cbe.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n\tat com.arbm.digibank.interceptor.MethodLogInterceptor$logAround$2$1.invokeSuspend(MethodLogInterceptor.kt:52)\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n\tat kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\n\tat kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n\tat kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n\tat kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n\tat com.arbm.digibank.interceptor.MethodLogInterceptor.logAround(MethodLogInterceptor.kt:51)\n\tat com.arbm.digibank.interceptor.ServiceLogInterceptor.logServiceCall(ServiceLogInterceptor.kt:41)\n\tat jdk.internal.reflect.GeneratedMethodAccessor266.invoke(Unknown Source)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n\tat com.arbm.digibank.service.CardMonitoringService$$EnhancerBySpringCGLIB$$ba0c571f.checkFraml(<generated>)\n\tat com.arbm.digibank.service.CardPaymentService$doAtmDebitCreditSuspended$2$framlCheckJob$1.invokeSuspend(CardPaymentService.kt:241)\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n\tat kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\n\tat kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\n",
                "processTime": 194
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.422",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.421Z",
            "@version": "1",
            "message": "publishAsyncCardReferenceEvent: cardIdca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7  customerId418733",
            "logger_name": "com.arbm.digibank.service.CardReferenceEventServicesImpl",
            "thread_name": "task-275",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5977b562b6b4201149e2d30af9363",
            "spanId": "6f6548e02d7806fc",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.422",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.421Z",
            "@version": "1",
            "message": "publishAsyncCardReferenceEvent: full event class AuthorizationRequestSchema {\n    mti: 0200\n    cardPan: 4321XXXXXXXX2271\n    ttc: 00\n    currencyCode: MYR\n    amount: 10790\n    cardholderBillAmount: 10790\n    lifecycleId: SWTRA 202502071317471740676494\n    posCardReadMethod: 0000\n    mcc: 5812\n    actionCode: \n    acceptorId: CARD ACCEPTOR  SENMU\n    acceptorCountryCode: MY\n    eventOccurredAt: 1738905467174\n    cardBin: 432134\n    accountId: d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\n    accountIban: 912010110000193\n    customerId: 418733\n    atc1: null\n    atc2: null\n    currencyUnit: 2\n    transmissionDatetime: null\n    cardholderBillConvRate: null\n    stan: null\n    localDatetime: null\n    cardEffectiveDate: null\n    cardExpirationDate: 2904\n    lifecycleIndicator: null\n    lifecycleSeqNumber: null\n    lifecycleToken: null\n    posCardholderVerMethod: null\n    posEnvironment: null\n    posSecurityCharacteristics: null\n    cardSeqNumber: null\n    functionCode: null\n    reasonCode: null\n    posReadCap: null\n    posCardholderVerCap: null\n    posApprovalCodeLen: null\n    posCardholderRecDataLen: null\n    posAcceptorRecDataLen: null\n    posCardholderDispDataLen: null\n    posAcceptorDispDataLen: null\n    posIccDataLen: null\n    posTrack3Rw: null\n    posCardCaptureCap: null\n    posPinLenCap: null\n    acquirerId: null\n    forwardingInstitutionId: null\n    accountDigitalSignature: null\n    cardholderCertificateNumber: null\n    acceptorCertificateNumber: null\n    xid: null\n    transstain: null\n    posTrack2Data: null\n    posTrack3Data: null\n    retrievalReferenceNumber: null\n    approvalCode: null\n    serviceCode: null\n    terminalId: 41023483\n    acceptorName: PUBLIC BANK BERHAD\n    acceptorStreetAddr: \n    acceptorCity: KUALA LUMPUR\n    acceptorRegion:    \n    acceptorZip: KUL\n    acceptorPhone: null\n    acceptorCustServicePhone: null\n    acceptorAddContactInfo: null\n    acceptorUrl: null\n    acceptorEmail: null\n    posTrack1Data: null\n    amountFees: null\n    cardVerData: null\n    cardholderBillStreetAddr: null\n    cardholderBillZip: null\n    cardholderCompressBillAddr: null\n    cardholderAddIdType: null\n    cardholderAddId: null\n    avsCode: null\n    cardholderBillCurrencyCode: MYR\n    tvr: null\n    transactionSeqCounter: null\n    transactionCategoryCode: null\n    authAgentId: null\n    cardholderPresenceIndicator: null\n    cardPresenceFlag: true\n    fileTransferAckCode: null\n    fileTransferSeqNumber: null\n    returnAmount: null\n    destinationId: null\n    originatorId: null\n    receivingInstitutionId: null\n    eventExternalId: 6f58a783-4166-4f56-8713-bbdf92221185\n    cvvValCode: X\n    secure3dValCode: null\n    secure3dValStatus: null\n    cardId: ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\n    cardholderName: null\n    cardType: DEBIT\n    cardCategory: physical\n    cardProgram: null\n    cardBrand: MYD\n    cardIssuer: null\n    cardCountryCode: MY\n    cardLast4: null\n    cardStatus: null\n    cardCreditScore: null\n    cardTransactionAmountLimit: null\n    cardCreditLimit: null\n    cardAvailableBalance: null\n    cardNumberOfCardholders: null\n    cardFirstActivationDate: null\n    cardIssuedDate: null\n    accountBic: null\n    accountOpenDate: null\n    accountBalance: null\n    accountCreditLimit: null\n    accountOtbLimit: null\n    accountAvailableCredit: null\n    accountDebtBalance: null\n    accountCashAdvanceBalance: null\n    accountStatus: null\n    accountLastActivity: null\n    accountLastPaymentDate: null\n    accountLastPaymentAmount: null\n    accountPwChangeFlag: null\n    accountRewardsUsedCount: null\n    accountDebtPaymentMethod: null\n    accountNumberOfCards: null\n    accountType: savings\n    accountCurrency: null\n    accountAssociatedCards: null\n    customerAccounts: null\n    customerName: null\n    customerEmail: null\n    customerPhone: null\n    customerPhoneValCode: null\n    customerCitizenIdNumber: null\n    customerPassportNumber: null\n    customerDriverLicense: null\n    customerSsn: null\n    customerTaxNumber: null\n    customerRegistrationDate: null\n    customerStreetAddr: null\n    customerZip: null\n    customerCity: null\n    customerRegion: null\n    customerCountryCode: null\n    customerDob: null\n    customerNumberOfAccounts: null\n    customerTotalBalance: null\n    customerTotalCreditLimit: null\n    customerKycLvl: null\n    customerOccupation: null\n    customerSegment: null\n    customerNumberOfCards: null\n    customerOccupationStatus: null\n    customerRiskRating: null\n    customerCurrency: null\n    customerCards: null\n    terminalTimezone: null\n    terminalStreetAddr: null\n    terminalCity: null\n    terminalRegion: null\n    terminalZip: \n    terminalCountryCode: null\n    terminalLatitude: null\n    terminalLongitude: null\n    terminalIp: null\n    terminalIpLatitude: null\n    terminalIpLongitude: null\n    terminalIpZip: null\n    terminalIpCity: null\n    terminalIpRegion: null\n    terminalIpCountryCode: null\n    terminalPocFlag: null\n    acceptorDbaName: null\n    acceptorTaxNumber: null\n    sic: null\n    acceptorOpenDate: null\n    acceptorRiskyFlag: null\n    acceptorRisk: null\n    acceptorVisaRisk: null\n    acceptorMastercardRisk: null\n    acceptorPhoneValCode: null\n    acceptorLatitude: null\n    acceptorLongitude: null\n    deviceId: null\n    trustedAcceptor: null\n    recurringPayment: false\n    firstRecurringPayment: null\n    referenceFraudRate: null\n    authType: null\n    deviceIp: null\n    deviceIpCountryCode: null\n    customerCountryCodeChangeFlag: null\n    customerEmailChangeFlag: null\n    customerPhoneChangeFlag: null\n    deviceIpLatitude: null\n    deviceIpLongitude: null\n    malwareFlag: null\n    proxyFlag: null\n    deviceLanguage: null\n    lastScaAt: null\n    loginSessionId: null\n    sessionId: null\n    merchantInitiated: null\n    deviceFingerprint: null\n}",
            "logger_name": "com.arbm.digibank.service.CardReferenceEventServicesImpl",
            "thread_name": "task-275",
            "level": "DEBUG",
            "level_value": 10000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5977b562b6b4201149e2d30af9363",
            "spanId": "6f6548e02d7806fc",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.422",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.421Z",
            "@version": "1",
            "message": "storeRequest: class AuthorizationRequestSchema {\n    mti: 0200\n    cardPan: 4321XXXXXXXX2271\n    ttc: 00\n    currencyCode: MYR\n    amount: 10790\n    cardholderBillAmount: 10790\n    lifecycleId: SWTRA 202502071317471740676494\n    posCardReadMethod: 0000\n    mcc: 5812\n    actionCode: \n    acceptorId: CARD ACCEPTOR  SENMU\n    acceptorCountryCode: MY\n    eventOccurredAt: 1738905467174\n    cardBin: 432134\n    accountId: d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\n    accountIban: 912010110000193\n    customerId: 418733\n    atc1: null\n    atc2: null\n    currencyUnit: 2\n    transmissionDatetime: null\n    cardholderBillConvRate: null\n    stan: null\n    localDatetime: null\n    cardEffectiveDate: null\n    cardExpirationDate: 2904\n    lifecycleIndicator: null\n    lifecycleSeqNumber: null\n    lifecycleToken: null\n    posCardholderVerMethod: null\n    posEnvironment: null\n    posSecurityCharacteristics: null\n    cardSeqNumber: null\n    functionCode: null\n    reasonCode: null\n    posReadCap: null\n    posCardholderVerCap: null\n    posApprovalCodeLen: null\n    posCardholderRecDataLen: null\n    posAcceptorRecDataLen: null\n    posCardholderDispDataLen: null\n    posAcceptorDispDataLen: null\n    posIccDataLen: null\n    posTrack3Rw: null\n    posCardCaptureCap: null\n    posPinLenCap: null\n    acquirerId: null\n    forwardingInstitutionId: null\n    accountDigitalSignature: null\n    cardholderCertificateNumber: null\n    acceptorCertificateNumber: null\n    xid: null\n    transstain: null\n    posTrack2Data: null\n    posTrack3Data: null\n    retrievalReferenceNumber: null\n    approvalCode: null\n    serviceCode: null\n    terminalId: 41023483\n    acceptorName: PUBLIC BANK BERHAD\n    acceptorStreetAddr: \n    acceptorCity: KUALA LUMPUR\n    acceptorRegion:    \n    acceptorZip: KUL\n    acceptorPhone: null\n    acceptorCustServicePhone: null\n    acceptorAddContactInfo: null\n    acceptorUrl: null\n    acceptorEmail: null\n    posTrack1Data: null\n    amountFees: null\n    cardVerData: null\n    cardholderBillStreetAddr: null\n    cardholderBillZip: null\n    cardholderCompressBillAddr: null\n    cardholderAddIdType: null\n    cardholderAddId: null\n    avsCode: null\n    cardholderBillCurrencyCode: MYR\n    tvr: null\n    transactionSeqCounter: null\n    transactionCategoryCode: null\n    authAgentId: null\n    cardholderPresenceIndicator: null\n    cardPresenceFlag: true\n    fileTransferAckCode: null\n    fileTransferSeqNumber: null\n    returnAmount: null\n    destinationId: null\n    originatorId: null\n    receivingInstitutionId: null\n    eventExternalId: 6f58a783-4166-4f56-8713-bbdf92221185\n    cvvValCode: X\n    secure3dValCode: null\n    secure3dValStatus: null\n    cardId: ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\n    cardholderName: null\n    cardType: DEBIT\n    cardCategory: physical\n    cardProgram: null\n    cardBrand: MYD\n    cardIssuer: null\n    cardCountryCode: MY\n    cardLast4: null\n    cardStatus: null\n    cardCreditScore: null\n    cardTransactionAmountLimit: null\n    cardCreditLimit: null\n    cardAvailableBalance: null\n    cardNumberOfCardholders: null\n    cardFirstActivationDate: null\n    cardIssuedDate: null\n    accountBic: null\n    accountOpenDate: null\n    accountBalance: null\n    accountCreditLimit: null\n    accountOtbLimit: null\n    accountAvailableCredit: null\n    accountDebtBalance: null\n    accountCashAdvanceBalance: null\n    accountStatus: null\n    accountLastActivity: null\n    accountLastPaymentDate: null\n    accountLastPaymentAmount: null\n    accountPwChangeFlag: null\n    accountRewardsUsedCount: null\n    accountDebtPaymentMethod: null\n    accountNumberOfCards: null\n    accountType: savings\n    accountCurrency: null\n    accountAssociatedCards: null\n    customerAccounts: null\n    customerName: null\n    customerEmail: null\n    customerPhone: null\n    customerPhoneValCode: null\n    customerCitizenIdNumber: null\n    customerPassportNumber: null\n    customerDriverLicense: null\n    customerSsn: null\n    customerTaxNumber: null\n    customerRegistrationDate: null\n    customerStreetAddr: null\n    customerZip: null\n    customerCity: null\n    customerRegion: null\n    customerCountryCode: null\n    customerDob: null\n    customerNumberOfAccounts: null\n    customerTotalBalance: null\n    customerTotalCreditLimit: null\n    customerKycLvl: null\n    customerOccupation: null\n    customerSegment: null\n    customerNumberOfCards: null\n    customerOccupationStatus: null\n    customerRiskRating: null\n    customerCurrency: null\n    customerCards: null\n    terminalTimezone: null\n    terminalStreetAddr: null\n    terminalCity: null\n    terminalRegion: null\n    terminalZip: \n    terminalCountryCode: null\n    terminalLatitude: null\n    terminalLongitude: null\n    terminalIp: null\n    terminalIpLatitude: null\n    terminalIpLongitude: null\n    terminalIpZip: null\n    terminalIpCity: null\n    terminalIpRegion: null\n    terminalIpCountryCode: null\n    terminalPocFlag: null\n    acceptorDbaName: null\n    acceptorTaxNumber: null\n    sic: null\n    acceptorOpenDate: null\n    acceptorRiskyFlag: null\n    acceptorRisk: null\n    acceptorVisaRisk: null\n    acceptorMastercardRisk: null\n    acceptorPhoneValCode: null\n    acceptorLatitude: null\n    acceptorLongitude: null\n    deviceId: null\n    trustedAcceptor: null\n    recurringPayment: false\n    firstRecurringPayment: null\n    referenceFraudRate: null\n    authType: null\n    deviceIp: null\n    deviceIpCountryCode: null\n    customerCountryCodeChangeFlag: null\n    customerEmailChangeFlag: null\n    customerPhoneChangeFlag: null\n    deviceIpLatitude: null\n    deviceIpLongitude: null\n    malwareFlag: null\n    proxyFlag: null\n    deviceLanguage: null\n    lastScaAt: null\n    loginSessionId: null\n    sessionId: null\n    merchantInitiated: null\n    deviceFingerprint: null\n}",
            "logger_name": "com.arbm.digibank.service.CardMonitoringStoreServicesImpl",
            "thread_name": "task-276",
            "level": "DEBUG",
            "level_value": 10000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5977b562b6b4201149e2d30af9363",
            "spanId": "2ed8fedeff960a6b",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.422",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.421Z",
            "@version": "1",
            "message": "start publish card.card-service.reference.v1 event content: {\"cardId\": \"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\", \"customerId\": \"418733\", \"accountId\": \"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\", \"accountNumber\": \"912010110000193\", \"cardEffectiveDate\": null, \"cardExpirationDate\": \"2904\", \"cardholderName\": null, \"cardType\": \"DEBIT\", \"cardCategory\": \"physical\", \"cardBrand\": \"MYD\", \"cardIssuer\": \"ARBM\", \"cardCountryCode\": \"MY\", \"cardLast4\": null, \"cardStatus\": null, \"cardTransactionAmountLimit\": null, \"secure3dValCode\": null, \"cardNumberOfCardholders\": 1, \"accountNumberOfCards\": 1, \"customerNumberOfCards\": 1}",
            "logger_name": "com.arbm.digibank.publisher.BankMessagePublisher",
            "thread_name": "task-275",
            "level": "DEBUG",
            "level_value": 10000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5977b562b6b4201149e2d30af9363",
            "spanId": "6f6548e02d7806fc",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.422",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.421Z",
            "@version": "1",
            "message": "start publish record: ProducerRecord(topic=card.card-service.reference.v1, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7, value={\"cardId\": \"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\", \"customerId\": \"418733\", \"accountId\": \"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\", \"accountNumber\": \"912010110000193\", \"cardEffectiveDate\": null, \"cardExpirationDate\": \"2904\", \"cardholderName\": null, \"cardType\": \"DEBIT\", \"cardCategory\": \"physical\", \"cardBrand\": \"MYD\", \"cardIssuer\": \"ARBM\", \"cardCountryCode\": \"MY\", \"cardLast4\": null, \"cardStatus\": null, \"cardTransactionAmountLimit\": null, \"secure3dValCode\": null, \"cardNumberOfCardholders\": 1, \"accountNumberOfCards\": 1, \"customerNumberOfCards\": 1}, timestamp=null)",
            "logger_name": "com.arbm.digibank.publisher.BankMessagePublisher",
            "thread_name": "task-275",
            "level": "DEBUG",
            "level_value": 10000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5977b562b6b4201149e2d30af9363",
            "spanId": "6f6548e02d7806fc",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.422",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.422Z",
            "@version": "1",
            "message": "Kafka ProducerInterceptor topic: {card.card-service.reference.v1}, partition: {null}, headers: {RecordHeaders(headers = [RecordHeader(key = x-amzn-trace-id, value = [82, 111, 111, 116, 61, 49, 45, 54, 55, 97, 53, 57, 55, 55, 98, 45, 53, 54, 50, 98, 54, 98, 52, 50, 48, 49, 49, 52, 57, 101, 50, 100, 51, 48, 97, 102, 57, 51, 54, 51, 59, 80, 97, 114, 101, 110, 116, 61, 54, 101, 54, 102, 53, 56, 57, 98, 99, 53, 100, 53, 101, 51, 99, 98, 59, 83, 97, 109, 112, 108, 101, 100, 61, 49])], isReadOnly = false)}, payload: {{\"cardId\": \"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\", \"customerId\": \"418733\", \"accountId\": \"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\", \"accountNumber\": \"912010110000193\", \"cardEffectiveDate\": null, \"cardExpirationDate\": \"2904\", \"cardholderName\": null, \"cardType\": \"DEBIT\", \"cardCategory\": \"physical\", \"cardBrand\": \"MYD\", \"cardIssuer\": \"ARBM\", \"cardCountryCode\": \"MY\", \"cardLast4\": null, \"cardStatus\": null, \"cardTransactionAmountLimit\": null, \"secure3dValCode\": null, \"cardNumberOfCardholders\": 1, \"accountNumberOfCards\": 1, \"customerNumberOfCards\": 1}}",
            "logger_name": "com.arbm.digibank.messaging.interceptor.KafkaLoggingProducerInterceptor",
            "thread_name": "task-275",
            "level": "DEBUG",
            "level_value": 10000,
            "springAppName": "card-monitoring-service",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.422",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.422Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.OkhttpLoggingInterceptor",
            "thread_name": "DefaultDispatcher-worker-4",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards",
            "data": {
                "requestId": "SWTRA 202502071317471740676494",
                "functionId": "http://card-monitoring-service.card-monitoring-service.svc.cluster.local:8080/v1/card/transaction",
                "input": "{\"account_id\":\"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\",\"lifecycle_id\":\"SWTRA 202502071317471740676494\",\"mti\":\"0200\",\"card_pan\":\"4321XXXXXXXX2271\",\"card_bin\":\"432134\",\"ttc\":\"00\",\"currency_code\":\"458\",\"amount\":107.9,\"cardholder_bill_amount\":107.9,\"pos_card_read_method\":\"0007\",\"mcc\":\"5812\",\"action_code\":\"\",\"acceptor_id\":\"CARD ACCEPTOR  SENMU\",\"account_number\":\"912010110000193\",\"customer_id\":\"418733\",\"event_occurred_at\":1738905467174,\"card_id\":\"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\",\"currency_unit\":2,\"acceptor_name\":\"PUBLIC BANK BERHAD    KUALA LUMPUR    MY\",\"acceptor_country_code\":\"458\",\"acceptor_zip\":\"KUL\",\"event_external_id\":\"\",\"card_expiration_date\":\"2904\",\"cvv_val_code\":\"X\",\"card_type\":\"DEBIT\",\"card_brand\":\"MYD\",\"card_presence_flag\":\"Y\",\"card_country_code\":\"MY\",\"account_type\":\"savings\",\"terminal_id\":\"41023483\",\"card_category\":\"physical\",\"cardholder_bill_currency_code\":\"458\",\"recurring_payment\":\"00\",\"secure_3d_val_status\":\"\",\"terminal_zip\":\"\"}",
                "result": "{\"status\":\"OK\",\"lifecycle_id\":\"SWTRA 202502071317471740676494\",\"event_external_id\":\"6f58a783-4166-4f56-8713-bbdf92221185\",\"action_codes\":[\"[Cards-Velocity-6]\"],\"secondary_action_codes\":[],\"alert\":true,\"score\":0,\"decision\":\"decline\",\"sca_required\":true}",
                "processTime": 193
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.270",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.27Z",
            "@version": "1",
            "message": "FEEDZAI: 5.2 transfer request body {\"mti\":\"0200\",\"card_pan\":\"4321XXXXXXXX2271\",\"ttc\":\"00\",\"currency_code\":\"MYR\",\"amount\":10790,\"cardholder_bill_amount\":10790,\"lifecycle_id\":\"SWTRA 202502071317471740676494\",\"pos_card_read_method\":\"0000\",\"mcc\":\"5812\",\"action_code\":\"\",\"acceptor_id\":\"CARD ACCEPTOR  SENMU\",\"acceptor_country_code\":\"MY\",\"event_occurred_at\":1738905467174,\"card_bin\":\"432134\",\"account_id\":\"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\",\"account_iban\":\"912010110000193\",\"customer_id\":\"418733\",\"currency_unit\":2,\"card_expiration_date\":\"2904\",\"terminal_id\":\"41023483\",\"acceptor_name\":\"PUBLIC BANK BERHAD\",\"acceptor_street_addr\":\"\",\"acceptor_city\":\"KUALA LUMPUR\",\"acceptor_region\":\"   \",\"acceptor_zip\":\"KUL\",\"cardholder_bill_currency_code\":\"MYR\",\"card_presence_flag\":true,\"event_external_id\":\"6f58a783-4166-4f56-8713-bbdf92221185\",\"cvv_val_code\":\"X\",\"card_id\":\"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\",\"card_type\":\"DEBIT\",\"card_category\":\"physical\",\"card_brand\":\"MYD\",\"card_country_code\":\"MY\",\"account_type\":\"savings\",\"terminal_zip\":\"\",\"recurring_payment\":false}",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-2",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5977b89f2c660ccd7d6af449ac41b",
            "spanId": "ccd7d6af449ac41b",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.270",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.27Z",
            "@version": "1",
            "message": "FEEDZAI: 6 print httpEntity: <{\"mti\":\"0200\",\"card_pan\":\"4321XXXXXXXX2271\",\"ttc\":\"00\",\"currency_code\":\"MYR\",\"amount\":10790,\"cardholder_bill_amount\":10790,\"lifecycle_id\":\"SWTRA 202502071317471740676494\",\"pos_card_read_method\":\"0000\",\"mcc\":\"5812\",\"action_code\":\"\",\"acceptor_id\":\"CARD ACCEPTOR  SENMU\",\"acceptor_country_code\":\"MY\",\"event_occurred_at\":1738905467174,\"card_bin\":\"432134\",\"account_id\":\"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\",\"account_iban\":\"912010110000193\",\"customer_id\":\"418733\",\"currency_unit\":2,\"card_expiration_date\":\"2904\",\"terminal_id\":\"41023483\",\"acceptor_name\":\"PUBLIC BANK BERHAD\",\"acceptor_street_addr\":\"\",\"acceptor_city\":\"KUALA LUMPUR\",\"acceptor_region\":\"   \",\"acceptor_zip\":\"KUL\",\"cardholder_bill_currency_code\":\"MYR\",\"card_presence_flag\":true,\"event_external_id\":\"6f58a783-4166-4f56-8713-bbdf92221185\",\"cvv_val_code\":\"X\",\"card_id\":\"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\",\"card_type\":\"DEBIT\",\"card_category\":\"physical\",\"card_brand\":\"MYD\",\"card_country_code\":\"MY\",\"account_type\":\"savings\",\"terminal_zip\":\"\",\"recurring_payment\":false},[user-agent:\"ReactorNetty/1.0.24\", accept:\"application/json\", content-type:\"application/json\", content-length:\"1022\", x-forwarded-proto:\"http\", x-request-id:\"3bed6c72-3532-9005-8799-663913e5e5a1\", x-envoy-expected-rq-timeout-ms:\"200000\", Authorization:\"Bearer eyJ0eXAiOiJKV1QiLCJraWQiOiI2MWEzOTAxZC05NDdhLTQ0MjYtYjIzMy01NjE3NDFmNTE1ODIiLCJhbGciOiJSUzUxMiJ9.eyJleHAiOjE3NDE0OTc0NjcsIm5iZiI6MTczODkwNTQ2NywiaXNzIjoiYXJibSIsInN1YiI6ImFyYm0iLCJqdGkiOiI4ZDcxZDFhMy1hNWU1LTRiYzAtOWE1NS00MGVmMWRiNmQ4MDkifQ.L9QIsmVawkf9fgE0dRMBQDV6Z3wx1nc-TmpdzOaA8743D6kHj6y85sJNRS_NQHjRHozuWhd7a-rm2P8PLC1mOWIs6MYw2hTtcPQmKD3vD1Yw9P8rj1rEBy3TMshuigzM9CIJGZxZ2X2Ub2ajiBERR3OWjjdGDrxvVR1I1aJvBv_Siq2FfXMh01m7kkks5tbH-595cSYsiqVdxSWSsCY2UHbNFVU6DN0IIoFH95r-TWT6_hU83naDTnUR1ScbmqB3PRXkbzSAfikklrnC1HmA7qgSdHQjKfxM_90VfG-x45OBrpokkhS1F0I0LUA9GDrqCqruIl2aMq6Ua-hFhKydHiwt0J-LuvnMI6aPIO_GU97Ds2Q_zCnKs4wf29cHLSxUnlV7JJNiqxpu67-VL-FQUH6u4zmWIFGAvj4NKliNSWgKs6iWWvrxi_fsWZ6qwtzdbSvs9z65wUhlR7yyVcymzrHXndlVenYKezAUq0hg2dtYGOpf4gJtyRoKIdxiWz5PG7patmz5BwORB2A1Q_65TJQlh86Z3uobZrXyysBuQG6MwfJSJsLYjizSoQJCa6e6HjATRBKlabM69PmZIZqfCkVHUWDLacgTpqNn4OLeob-iA-wlGu6SRFmVFK3nGIzsvms_WUIIjr2ZiBBkNWFu3by3QqWX2nTJxQv2beTrIFA\"]>, uri: https://alrajhi-private.feedzai.com/api/transactions/authorization, method: POST",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-2",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5977b89f2c660ccd7d6af449ac41b",
            "spanId": "ccd7d6af449ac41b",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.244",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.244Z",
            "@version": "1",
            "message": "FEEDZAI: 0.1 Initial Crr header: org.springframework.security.web.firewall.StrictHttpFirewall$StrictFirewalledRequest$2@477f01e2 , request: SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@4a2f85b0], method: POST ,body: {\"mti\":\"0200\",\"card_pan\":\"4321XXXXXXXX2271\",\"ttc\":\"00\",\"currency_code\":\"MYR\",\"amount\":10790,\"cardholder_bill_amount\":10790,\"lifecycle_id\":\"SWTRA 202502071317471740676494\",\"pos_card_read_method\":\"0000\",\"mcc\":\"5812\",\"action_code\":\"\",\"acceptor_id\":\"CARD ACCEPTOR  SENMU\",\"acceptor_country_code\":\"MY\",\"event_occurred_at\":1738905467174,\"card_bin\":\"432134\",\"account_id\":\"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\",\"account_iban\":\"912010110000193\",\"customer_id\":\"418733\",\"currency_unit\":2,\"card_expiration_date\":\"2904\",\"terminal_id\":\"41023483\",\"acceptor_name\":\"PUBLIC BANK BERHAD\",\"acceptor_street_addr\":\"\",\"acceptor_city\":\"KUALA LUMPUR\",\"acceptor_region\":\"   \",\"acceptor_zip\":\"KUL\",\"cardholder_bill_currency_code\":\"MYR\",\"card_presence_flag\":true,\"event_external_id\":\"6f58a783-4166-4f56-8713-bbdf92221185\",\"cvv_val_code\":\"X\",\"card_id\":\"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\",\"card_type\":\"DEBIT\",\"card_category\":\"physical\",\"card_brand\":\"MYD\",\"card_country_code\":\"MY\",\"account_type\":\"savings\",\"terminal_zip\":\"\",\"recurring_payment\":false}",
            "logger_name": "com.arbm.digibank.controller.GatewayController",
            "thread_name": "http-nio-8080-exec-2",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5977b89f2c660ccd7d6af449ac41b",
            "spanId": "ccd7d6af449ac41b",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.242",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.241Z",
            "@version": "1",
            "message": "Post Card Authorization information: {\"mti\":\"0200\",\"card_pan\":\"4321XXXXXXXX2271\",\"ttc\":\"00\",\"currency_code\":\"MYR\",\"amount\":10790,\"cardholder_bill_amount\":10790,\"lifecycle_id\":\"SWTRA 202502071317471740676494\",\"pos_card_read_method\":\"0000\",\"mcc\":\"5812\",\"action_code\":\"\",\"acceptor_id\":\"CARD ACCEPTOR  SENMU\",\"acceptor_country_code\":\"MY\",\"event_occurred_at\":1738905467174,\"card_bin\":\"432134\",\"account_id\":\"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\",\"account_iban\":\"912010110000193\",\"customer_id\":\"418733\",\"currency_unit\":2,\"card_expiration_date\":\"2904\",\"terminal_id\":\"41023483\",\"acceptor_name\":\"PUBLIC BANK BERHAD\",\"acceptor_street_addr\":\"\",\"acceptor_city\":\"KUALA LUMPUR\",\"acceptor_region\":\"   \",\"acceptor_zip\":\"KUL\",\"cardholder_bill_currency_code\":\"MYR\",\"card_presence_flag\":true,\"event_external_id\":\"6f58a783-4166-4f56-8713-bbdf92221185\",\"cvv_val_code\":\"X\",\"card_id\":\"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\",\"card_type\":\"DEBIT\",\"card_category\":\"physical\",\"card_brand\":\"MYD\",\"card_country_code\":\"MY\",\"account_type\":\"savings\",\"terminal_zip\":\"\",\"recurring_payment\":false}",
            "logger_name": "com.arbm.digibank.service.client.FeedzaiClientService",
            "thread_name": "http-nio-8080-exec-8",
            "level": "DEBUG",
            "level_value": 10000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5977b562b6b4201149e2d30af9363",
            "spanId": "01149e2d30af9363",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.233",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.233Z",
            "@version": "1",
            "message": "<<<<< Start Monitoring transaction for card CardTransactionRequestV1(lifecycleId=SWTRA 202502071317471740676494, accountId=d94716c6-9ed6-d9a1-9b26-d2bfc14811d5, mti=0200, cardPan=4321XXXXXXXX2271, cardBin=432134, ttc=00, currencyCode=458, amount=107.9, cardholderBillAmount=107.9, posCardReadMethod=0007, mcc=5812, actionCode=, acceptorId=CARD ACCEPTOR  SENMU, accountNumber=912010110000193, customerId=418733, eventOccurredAt=1738905467174, cardId=ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7, currencyUnit=2, acceptorName=PUBLIC BANK BERHAD    KUALA LUMPUR    MY, acceptorCountryCode=458, acceptorZip=KUL, eventExternalId=, cardExpirationDate=2904, cvvValCode=X, cardType=DEBIT, cardBrand=MYD, cardPresenceFlag=Y, cardCountryCode=MY, accountType=savings, terminalCity=null, terminalId=41023483, terminalCountryCode=null, cardCategory=physical, cardholderBillCurrencyCode=458, recurringPayment=00, secure3dValStatus=, terminalZip=)",
            "logger_name": "com.arbm.digibank.controller.CardMonitoringController",
            "thread_name": "http-nio-8080-exec-8",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5977b562b6b4201149e2d30af9363",
            "spanId": "01149e2d30af9363",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.226",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.225Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.OkhttpLoggingInterceptor",
            "thread_name": "http-nio-8080-exec-3",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards",
            "traceId": "67a5977ba37aa082f08ac109f7f15765",
            "spanId": "f08ac109f7f15765",
            "RequestId": "SWTRA 202502071317471740676494",
            "data": {
                "requestId": "SWTRA 202502071317471740676494",
                "functionId": "http://deposit-account-service.deposit-account-service.svc.cluster.local:8080/saving-accounts?account_number=912010110000193",
                "input": "",
                "result": "{\"accountId\":\"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\",\"accountNumber\":\"912010110000193\",\"customerId\":\"418733\",\"status\":\"ACTIVE\",\"currency\":\"MYR\",\"openingTimestamp\":\"2022-05-12T08:28:26.628038Z\",\"activationTimestamp\":null,\"blockDetails\":null}",
                "processTime": 3
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:47.222",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:47.221Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "http-nio-8080-exec-3",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards",
            "traceId": "67a5977ba37aa082f08ac109f7f15765",
            "spanId": "f08ac109f7f15765",
            "RequestId": "SWTRA 202502071317471740676494",
            "data": {
                "requestId": null,
                "functionId": "CustomerRestrictionApiService.isServiceBlocked",
                "input": {
                    "customerId": "\"0000000000418733\"",
                    "serviceCodeToCheck": "\"CARD_TRANSACTION\"",
                    "productType": "\"SAVING_ACCOUNT\"",
                    "productNumber": "\"0110000193\""
                },
                "result": false,
                "processTime": 5
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.161",
        "kubernetes.container_name": "notification-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.161Z",
            "@version": "1",
            "message": "Get the notification template name CARD_ACC_NOT_AVAIL, for customer 418733",
            "logger_name": "com.arbm.digibank.service.NotificationTemplateService",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "notification-service",
            "traceId": "67a5976b6d5a7cf77df7e7da428a60fb",
            "spanId": "f1ef33a4982b976b",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.161",
        "kubernetes.container_name": "notification-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.161Z",
            "@version": "1",
            "message": "Notification Entity:  NotificationsEntity(notificationId=1857b7c8-d090-4d12-aafd-27fe772f0f41, customerId=418733, content=Your payment to PUBLIC BANK BER on 07/02/2025 13:17:30 has failed. Call the Bank if you did not perform this transaction., header=Your payment has failed, isRead=false, internalNotifId=450a8a64-b2d6-4bd0-a687-9d81fc8af934, isDeleted=false) ",
            "logger_name": "com.arbm.digibank.service.NotificationOnesignalService",
            "thread_name": "DefaultDispatcher-worker-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "notification-service",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.137",
        "kubernetes.container_name": "customer-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.137Z",
            "@version": "1",
            "message": "Get devices for customerId: 418733",
            "logger_name": "com.arbm.digibank.controller.CustomerController",
            "thread_name": "http-nio-8080-exec-3",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "customer-service",
            "traceId": "67a5976b7eacf8e4e95247c489e7b1be",
            "spanId": "e95247c489e7b1be",
            "bc": "customers"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.137",
        "kubernetes.container_name": "customer-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.137Z",
            "@version": "1",
            "message": " Getting devices for customer=418733 and status=ACTIVE_VERIFIED",
            "logger_name": "com.arbm.digibank.service.CustomerQueryService",
            "thread_name": "http-nio-8080-exec-3",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "customer-service",
            "traceId": "67a5976b7eacf8e4e95247c489e7b1be",
            "spanId": "e95247c489e7b1be",
            "bc": "customers"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.136",
        "kubernetes.container_name": "notification-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.136Z",
            "@version": "1",
            "message": "Retrieving DeviceId from customer-service. CustomerId: [418733]",
            "logger_name": "com.arbm.digibank.service.CustomerService",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "notification-service",
            "traceId": "67a5976b6d5a7cf77df7e7da428a60fb",
            "spanId": "f1ef33a4982b976b",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.109",
        "kubernetes.container_name": "notification-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.109Z",
            "@version": "1",
            "message": "consumeCreateNotificationCommand, notificationId: 450a8a64-b2d6-4bd0-a687-9d81fc8af934, customerId: 418733, templateName: CARD_ACC_NOT_AVAIL",
            "logger_name": "com.arbm.digibank.processor.CreateNotificationCommandProcessor",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "notification-service",
            "traceId": "67a5976b6d5a7cf77df7e7da428a60fb",
            "spanId": "f1ef33a4982b976b",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.109",
        "kubernetes.container_name": "notification-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.109Z",
            "@version": "1",
            "message": "Retrieving customer information from customer-service. CustomerId: [418733]",
            "logger_name": "com.arbm.digibank.service.CustomerService",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "notification-service",
            "traceId": "67a5976b6d5a7cf77df7e7da428a60fb",
            "spanId": "f1ef33a4982b976b",
            "bc": "shared"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.107",
        "kubernetes.container_name": "finexus-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.107Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "http-nio-8080-exec-3",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards",
            "traceId": "67a5976a342753a96ca7c0b4298a84a5",
            "spanId": "fc4b91aeaa73a881",
            "data": {
                "requestId": "SWTRA 202502071317307150676493",
                "functionId": "CardPaymentService.doATMSingleDebitCredit",
                "input": {
                    "requestId": "\"SWTRA 202502071317307150676493\"",
                    "request": "{\"cicId\":\"0000000000418733\",\"transferType\":\"DEBIT\",\"accountBranchCode\":\"91201\",\"accountNumber\":\"0110000193\",\"accountRelationType\":\"700\",\"amount\":107.9,\"startDate\":\"20250207\",\"rrn\":\"503805066501\",\"messageTypeIndicator\":\"0200\",\"pan\":\"4321XXXXXXXX2271\",\"tcc\":\"00\",\"currencyCode\":\"458\",\"amountInOriginalCurrency\":10790,\"cardHolderBillCurrencyCode\":\"458\",\"cardHolderBillAmount\":10790.0,\"cardExpiry\":\"2904\",\"lifeCycleId\":\"SWTRA 202502071317307150676493\",\"posReadMethod\":\"0007\",\"mcc\":\"5812\",\"acceptorId\":\"CARD ACCEPTOR  SENMU\",\"acceptorName\":\"PUBLIC BANK BERHAD    KUALA LUMPUR    MY\",\"acceptorZip\":\"KUL\",\"acceptorCountryCode\":\"458\",\"cardPresence\":\"Y\",\"cardBIN\":\"432134\",\"cardBrand\":\"MYD\",\"occurredAt\":\"20250207131730715\",\"posCond\":\"00\",\"terminalId\":\"41023483\",\"secure3DValStatus\":\"\",\"cvvValCode\":\"X\",\"posCardHolderVerMethod\":\"\",\"accessCode\":null,\"remarks\":\"07/02/2025 13:17:30 MYDEBIT PURCHASE 503805066501 PUBLIC BANK BER MYR 107.90\",\"feeAmount\":0.0,\"functionId\":\"MYDPU\",\"denomination\":\"MYR\"}"
                },
                "result": {
                    "statusCode": "2401",
                    "statusSeverity": null,
                    "statusDescription": "Account not available",
                    "transactionReferenceId": null,
                    "ledgerBalanceDescription": null,
                    "ledgerBalanceAmount": null,
                    "availableBalanceDescripiton": null,
                    "availableBalanceAmount": null
                },
                "processTime": 356
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.107",
        "kubernetes.container_name": "finexus-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.107Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "http-nio-8080-exec-3",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards",
            "traceId": "67a5976a342753a96ca7c0b4298a84a5",
            "spanId": "fc4b91aeaa73a881",
            "data": {
                "requestId": null,
                "functionId": "CardPaymentController.doATMSingleDebitCredit",
                "input": {
                    "request": "{\"name\":\"{http://finmeccanica.com/services/rcm/objectsIFX}DoATMSingleDebitCreditMsgRq\",\"declaredType\":\"generated.jaxb.server.rcm.DoATMSingleDebitCreditMsgRqType\",\"scope\":\"javax.xml.bind.JAXBElement$GlobalScope\",\"value\":{\"rqUID\":\"SWTRA 202502071317307150676493\",\"msgRqHdr\":{\"asyncRqUID\":null,\"svcIdent\":null,\"credentialsRqHdr\":[{\"subjectRole\":\"SystemUser\",\"startSession\":null,\"partyRef\":null,\"seqNum\":null,\"secTokenCertOrSecTokenICCOrSecTokenMagCard\":[{\"secTokenOwner\":null,\"loginName\":\"CWS\",\"subjectPswd\":null,\"subjectPassCode\":null}],\"ovrdExceptionCode\":null}],\"contextRqHdr\":{\"fieldSelect\":[],\"clientTerminalSeqNum\":null,\"networkTrnData\":{\"networkOwner\":\"CWS\",\"originatorName\":null,\"originatorType\":null,\"terminalIdent\":null,\"terminalType\":null,\"postAddr\":null,\"desc\":null,\"name\":null,\"networkRefIdent\":null,\"acquirerIdent\":null,\"merchNum\":null,\"mcc\":null,\"fiidentType\":null,\"fiident\":null},\"pointOfServiceData\":null,\"msgAuthCode\":null,\"clientDt\":null,\"custLangPref\":\"en\",\"clearingLangCode\":null,\"clientApp\":null,\"proxyClient\":null,\"msgGroupReference\":null,\"emvrqData\":null},\"feeRqHdr\":[]},\"doATMSingleDebitCredit\":{\"accessCode\":null,\"internalReferenceNumber\":null,\"partyId\":\"0000000000418733\",\"transferType\":\"D\",\"accountBranchCodeFrom\":\"91201\",\"accountRelationTypeFrom\":\"700\",\"accountNumberFrom\":\"0110000193\",\"curAmt\":{\"amt\":107.90,\"curCode\":null},\"remarks\":\"07/02/2025 13:17:30 MYDEBIT PURCHASE 503805066501 PUBLIC BANK BER MYR 107.90\",\"startDate\":\"20250207\",\"functionId\":\"MYDPU\",\"feeAmt\":{\"amt\":0,\"curCode\":null},\"rrn\":\"503805066501\",\"messageTypeIndicator\":\"0200\",\"pan\":\"4321XXXXXXXX2271\",\"tcc\":\"00\",\"currencyCode\":\"458\",\"amountInOriginalCurrency\":10790,\"cardHolderBillCurrencyCode\":\"458\",\"cardHolderBillAmount\":10790,\"cardExpiry\":null,\"lifeCycleId\":\"SWTRA 202502071317307150676493\",\"mcc\":\"5812\",\"acceptorId\":null,\"acceptorName\":\"PUBLIC BANK BERHAD    KUALA LUMPUR    MY\",\"acceptorZip\":null,\"acceptorCountryCode\":\"458\",\"cardPresence\":\"Y\",\"cardBIN\":\"432134\",\"cardBrand\":\"MYD\",\"occurredAt\":\"20250207131730715\",\"terminalID\":\"41023483\",\"secure3DValStatus\":null,\"posreadMethod\":\"0007\",\"poscond\":null,\"cvvvalCode\":\"X\",\"poscardHolderVerMethod\":null}},\"nil\":false,\"globalScope\":true,\"typeSubstituted\":false}"
                },
                "result": {
                    "name": "{http://finmeccanica.com/services/rcm/objectsIFX}DoATMSingleDebitCreditMsgRs",
                    "declaredType": "generated.jaxb.server.rcm.DoATMSingleDebitCreditMsgRsType",
                    "scope": "javax.xml.bind.JAXBElement$GlobalScope",
                    "value": {
                        "status": {
                            "statusCode": 2401,
                            "serverStatusCode": null,
                            "severity": null,
                            "statusDesc": "Account not available",
                            "subjectElement": [],
                            "additionalStatus": [],
                            "asyncRsData": null,
                            "id": null
                        },
                        "rqUID": "SWTRA 202502071317307150676493",
                        "msgRsHdr": null,
                        "dualBalanceRs": null
                    },
                    "nil": false,
                    "globalScope": true,
                    "typeSubstituted": false
                },
                "processTime": 357
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.106",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.106Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "DefaultDispatcher-worker-4",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards",
            "data": {
                "requestId": null,
                "functionId": "KafkaTemplate.send",
                "input": {
                    "topic": "\"shared.notification.push-request.v1\"",
                    "data": "{\"customerId\":\"418733\",\"notificationId\":\"450a8a64-b2d6-4bd0-a687-9d81fc8af934\",\"templateName\":\"CARD_ACC_NOT_AVAIL\",\"placeholders\":[{\"name\":\"Amount\",\"value\":\"107.90\"},{\"name\":\"Transaction date\",\"value\":\"07/02/2025\"},{\"name\":\"Transaction time\",\"value\":\"13:17:30\"},{\"name\":\"Payee Name\",\"value\":\"PUBLIC BANK BER\"},{\"name\":\"supportPhone\",\"value\":\"the Bank\"}]}"
                },
                "result": {
                    "cancelled": false,
                    "done": false
                },
                "processTime": 1
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.106",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.106Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "DefaultDispatcher-worker-4",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards",
            "data": {
                "requestId": null,
                "functionId": "KafkaPublisherService.requestPushNoti",
                "input": {
                    "createNotificationCommand": "{\"customerId\":\"418733\",\"notificationId\":\"450a8a64-b2d6-4bd0-a687-9d81fc8af934\",\"templateName\":\"CARD_ACC_NOT_AVAIL\",\"placeholders\":[{\"name\":\"Amount\",\"value\":\"107.90\"},{\"name\":\"Transaction date\",\"value\":\"07/02/2025\"},{\"name\":\"Transaction time\",\"value\":\"13:17:30\"},{\"name\":\"Payee Name\",\"value\":\"PUBLIC BANK BER\"},{\"name\":\"supportPhone\",\"value\":\"the Bank\"}]}"
                },
                "result": null,
                "processTime": 1
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.105",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.105Z",
            "@version": "1",
            "message": "\n            send CARD_ACC_NOT_AVAIL notification to customerId=0000000000418733 \n            with notificationId=450a8a64-b2d6-4bd0-a687-9d81fc8af934 \n            and placeholders={\"name\": \"Amount\", \"value\": \"107.90\"}, {\"name\": \"Transaction date\", \"value\": \"07/02/2025\"}, {\"name\": \"Transaction time\", \"value\": \"13:17:30\"}, {\"name\": \"Payee Name\", \"value\": \"PUBLIC BANK BER\"}, {\"name\": \"supportPhone\", \"value\": \"the Bank\"}\n        ",
            "logger_name": "com.arbm.digibank.utils.NotificationUtils",
            "thread_name": "DefaultDispatcher-worker-4",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.105",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.105Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "http-nio-8080-exec-8",
            "level": "ERROR",
            "level_value": 40000,
            "bc": "cards",
            "traceId": "67a5976afb4638ae8f6638bd24b33676",
            "spanId": "8f6638bd24b33676",
            "RequestId": "SWTRA 202502071317307150676493",
            "data": {
                "requestId": "\"SWTRA 202502071317307150676493\"",
                "functionId": "CardPaymentService.doAtmDebitCredit-gIAlu-s",
                "input": {
                    "requestId": "\"SWTRA 202502071317307150676493\"",
                    "request": "{\"cicId\":\"0000000000418733\",\"transferType\":\"D\",\"accountBranchCode\":\"91201\",\"accountNumber\":\"0110000193\",\"accountRelationType\":\"700\",\"amount\":107.9,\"startDate\":\"20250207\",\"rrn\":\"503805066501\",\"messageTypeIndicator\":\"0200\",\"pan\":\"4321XXXXXXXX2271\",\"tcc\":\"00\",\"currencyCode\":\"458\",\"amountInOriginalCurrency\":10790,\"cardHolderBillCurrencyCode\":\"458\",\"cardHolderBillAmount\":10790.0,\"cardExpiry\":\"2904\",\"lifeCycleId\":\"SWTRA 202502071317307150676493\",\"posReadMethod\":\"0007\",\"mcc\":\"5812\",\"acceptorId\":\"CARD ACCEPTOR  SENMU\",\"acceptorName\":\"PUBLIC BANK BERHAD    KUALA LUMPUR    MY\",\"acceptorZip\":\"KUL\",\"acceptorCountryCode\":\"458\",\"cardPresence\":\"Y\",\"cardBIN\":\"432134\",\"cardBrand\":\"MYD\",\"occurredAt\":\"20250207131730715\",\"posCond\":\"00\",\"terminalId\":\"41023483\",\"secure3DValStatus\":\"\",\"cvvValCode\":\"X\",\"posCardHolderVerMethod\":\"\",\"accessCode\":null,\"remarks\":\"07/02/2025 13:17:30 MYDEBIT PURCHASE 503805066501 PUBLIC BANK BER MYR 107.90\",\"feeAmount\":0.0,\"functionId\":\"MYDPU\",\"denomination\":\"MYR\"}"
                },
                "result": "com.arbm.digibank.exception.AccountNotAvailableException: Account not available from framl with decision is: decline\n\tat com.arbm.digibank.service.CardMonitoringService.checkFraml(CardMonitoringService.kt:65)\n\tat com.arbm.digibank.service.CardMonitoringService$$FastClassBySpringCGLIB$$7ccb2cbe.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n\tat com.arbm.digibank.interceptor.MethodLogInterceptor$logAround$2$1.invokeSuspend(MethodLogInterceptor.kt:52)\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n\tat kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\n\tat kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n\tat kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n\tat kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n\tat com.arbm.digibank.interceptor.MethodLogInterceptor.logAround(MethodLogInterceptor.kt:51)\n\tat com.arbm.digibank.interceptor.ServiceLogInterceptor.logServiceCall(ServiceLogInterceptor.kt:41)\n\tat jdk.internal.reflect.GeneratedMethodAccessor265.invoke(Unknown Source)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n\tat com.arbm.digibank.service.CardMonitoringService$$EnhancerBySpringCGLIB$$423e5fdf.checkFraml(<generated>)\n\tat com.arbm.digibank.service.CardPaymentService$doAtmDebitCreditSuspended$2$framlCheckJob$1.invokeSuspend(CardPaymentService.kt:241)\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n\tat kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\n\tat kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\n",
                "processTime": 350
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.105",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.105Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "http-nio-8080-exec-8",
            "level": "ERROR",
            "level_value": 40000,
            "bc": "cards",
            "traceId": "67a5976afb4638ae8f6638bd24b33676",
            "spanId": "8f6638bd24b33676",
            "RequestId": "SWTRA 202502071317307150676493",
            "data": {
                "requestId": "\"SWTRA 202502071317307150676493\"",
                "functionId": "PurchasingController.doAtmDebitCredit",
                "input": {
                    "requestId": "\"SWTRA 202502071317307150676493\"",
                    "debitCreditRequest": "{\"cicId\":\"0000000000418733\",\"transferType\":\"D\",\"accountBranchCode\":\"91201\",\"accountNumber\":\"0110000193\",\"accountRelationType\":\"700\",\"amount\":107.9,\"startDate\":\"20250207\",\"rrn\":\"503805066501\",\"messageTypeIndicator\":\"0200\",\"pan\":\"4321XXXXXXXX2271\",\"tcc\":\"00\",\"currencyCode\":\"458\",\"amountInOriginalCurrency\":10790,\"cardHolderBillCurrencyCode\":\"458\",\"cardHolderBillAmount\":10790.0,\"cardExpiry\":\"2904\",\"lifeCycleId\":\"SWTRA 202502071317307150676493\",\"posReadMethod\":\"0007\",\"mcc\":\"5812\",\"acceptorId\":\"CARD ACCEPTOR  SENMU\",\"acceptorName\":\"PUBLIC BANK BERHAD    KUALA LUMPUR    MY\",\"acceptorZip\":\"KUL\",\"acceptorCountryCode\":\"458\",\"cardPresence\":\"Y\",\"cardBIN\":\"432134\",\"cardBrand\":\"MYD\",\"occurredAt\":\"20250207131730715\",\"posCond\":\"00\",\"terminalId\":\"41023483\",\"secure3DValStatus\":\"\",\"cvvValCode\":\"X\",\"posCardHolderVerMethod\":\"\",\"accessCode\":null,\"remarks\":\"07/02/2025 13:17:30 MYDEBIT PURCHASE 503805066501 PUBLIC BANK BER MYR 107.90\",\"feeAmount\":0.0,\"functionId\":\"MYDPU\",\"denomination\":\"MYR\"}"
                },
                "result": "com.arbm.digibank.exception.AccountNotAvailableException: Account not available from framl with decision is: decline\n\tat com.arbm.digibank.service.CardMonitoringService.checkFraml(CardMonitoringService.kt:65)\n\tat com.arbm.digibank.service.CardMonitoringService$$FastClassBySpringCGLIB$$7ccb2cbe.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n\tat com.arbm.digibank.interceptor.MethodLogInterceptor$logAround$2$1.invokeSuspend(MethodLogInterceptor.kt:52)\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n\tat kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\n\tat kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n\tat kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n\tat kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n\tat com.arbm.digibank.interceptor.MethodLogInterceptor.logAround(MethodLogInterceptor.kt:51)\n\tat com.arbm.digibank.interceptor.ServiceLogInterceptor.logServiceCall(ServiceLogInterceptor.kt:41)\n\tat jdk.internal.reflect.GeneratedMethodAccessor265.invoke(Unknown Source)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n\tat com.arbm.digibank.service.CardMonitoringService$$EnhancerBySpringCGLIB$$423e5fdf.checkFraml(<generated>)\n\tat com.arbm.digibank.service.CardPaymentService$doAtmDebitCreditSuspended$2$framlCheckJob$1.invokeSuspend(CardPaymentService.kt:241)\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n\tat kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\n\tat kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\n",
                "processTime": 350
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.077",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.077Z",
            "@version": "1",
            "message": "FEEDZAI: 7 Response received from feedzai api: <200,{\"status\":\"ok\",\"id\":\"418733\"},[Date:\"Fri, 07 Feb 2025 05:17:31 GMT\", Server:\"HTTP Server\", X-Frame-Options:\"SAMEORIGIN\", Strict-Transport-Security:\"max-age=31536000; includeSubdomains;\", X-Content-Type-Options:\"nosniff\", X-XSS-Protection:\"1; mode=block\", Cache-control:\"no-store, no-cache\", Content-Type:\"application/json\", Content-Length:\"29\", Keep-Alive:\"timeout=16\", Connection:\"Keep-Alive\"]>",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-9",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5976b203ae6e07ac1077db17fdc38",
            "spanId": "7ac1077db17fdc38",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.077",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.077Z",
            "@version": "1",
            "message": "FEEDZAI: 7.1 End Feedzai request in try block, ID: d0203b04-568f-4fdd-9c6a-496d6fac7fe3, total: 32 ms, endpoint: PATCH /api/referenceData/customers/418733",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-9",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5976b203ae6e07ac1077db17fdc38",
            "spanId": "7ac1077db17fdc38",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.077",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.077Z",
            "@version": "1",
            "message": "FEEDZAI: 8 returning result: <200,{\"status\":\"ok\",\"id\":\"418733\"},[Date:\"Fri, 07 Feb 2025 05:17:31 GMT\", Server:\"HTTP Server\", X-Frame-Options:\"SAMEORIGIN\", Strict-Transport-Security:\"max-age=31536000; includeSubdomains;\", X-Content-Type-Options:\"nosniff\", X-XSS-Protection:\"1; mode=block\", Cache-control:\"no-store, no-cache\", Content-Type:\"application/json\", Content-Length:\"29\", Keep-Alive:\"timeout=16\", Connection:\"Keep-Alive\"]> : <200,{\"status\":\"ok\",\"id\":\"418733\"},[Date:\"Fri, 07 Feb 2025 05:17:31 GMT\", Server:\"HTTP Server\", X-Frame-Options:\"SAMEORIGIN\", Strict-Transport-Security:\"max-age=31536000; includeSubdomains;\", X-Content-Type-Options:\"nosniff\", X-XSS-Protection:\"1; mode=block\", Cache-control:\"no-store, no-cache\", Content-Type:\"application/json\", Content-Length:\"29\", Keep-Alive:\"timeout=16\", Connection:\"Keep-Alive\"]> ",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-9",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5976b203ae6e07ac1077db17fdc38",
            "spanId": "7ac1077db17fdc38",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.077",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.077Z",
            "@version": "1",
            "message": "FEEDZAI: 9 return function call Feedzai result to controller: <200,{\"status\":\"ok\",\"id\":\"418733\"},[Date:\"Fri, 07 Feb 2025 05:17:31 GMT\", Server:\"HTTP Server\", X-Frame-Options:\"SAMEORIGIN\", Strict-Transport-Security:\"max-age=31536000; includeSubdomains;\", X-Content-Type-Options:\"nosniff\", X-XSS-Protection:\"1; mode=block\", Cache-control:\"no-store, no-cache\", Content-Type:\"application/json\", Content-Length:\"29\", Keep-Alive:\"timeout=16\", Connection:\"Keep-Alive\"]>",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-9",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5976b203ae6e07ac1077db17fdc38",
            "spanId": "7ac1077db17fdc38",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.077",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.077Z",
            "@version": "1",
            "message": "FEEDZAI: 10 feedzaiProxyService return <200,{\"status\":\"ok\",\"id\":\"418733\"},[Date:\"Fri, 07 Feb 2025 05:17:31 GMT\", Server:\"HTTP Server\", X-Frame-Options:\"SAMEORIGIN\", Strict-Transport-Security:\"max-age=31536000; includeSubdomains;\", X-Content-Type-Options:\"nosniff\", X-XSS-Protection:\"1; mode=block\", Cache-control:\"no-store, no-cache\", Content-Type:\"application/json\", Content-Length:\"29\", Keep-Alive:\"timeout=16\", Connection:\"Keep-Alive\"]>",
            "logger_name": "com.arbm.digibank.controller.GatewayController",
            "thread_name": "http-nio-8080-exec-9",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5976b203ae6e07ac1077db17fdc38",
            "spanId": "7ac1077db17fdc38",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.045",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.045Z",
            "@version": "1",
            "message": "FEEDZAI: 5 Start Feedzai request, ID: d0203b04-568f-4fdd-9c6a-496d6fac7fe3, endpoint: PATCH /api/referenceData/customers/418733",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-9",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5976b203ae6e07ac1077db17fdc38",
            "spanId": "7ac1077db17fdc38",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.045",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.045Z",
            "@version": "1",
            "message": "FEEDZAI: 5.2 transfer request body {\n  \"customer_id\": \"418733\",\n  \"customer_type\": \"individual\",\n  \"customer_number_of_cards\": 1,\n  \"customer_cards\": [\n    {\n      \"card_id\": \"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\"\n    }\n  ]\n}",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-9",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5976b203ae6e07ac1077db17fdc38",
            "spanId": "7ac1077db17fdc38",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.045",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.045Z",
            "@version": "1",
            "message": "FEEDZAI: 6 print httpEntity: <{\n  \"customer_id\": \"418733\",\n  \"customer_type\": \"individual\",\n  \"customer_number_of_cards\": 1,\n  \"customer_cards\": [\n    {\n      \"card_id\": \"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\"\n    }\n  ]\n},[accept:\"*/*\", content-type:\"application/json\", content-length:\"190\", user-agent:\"okhttp/4.9.3\", x-forwarded-proto:\"http\", x-request-id:\"6a0f98ca-4096-9a81-a8a7-bc655fbb7e2d\", x-envoy-expected-rq-timeout-ms:\"200000\", Authorization:\"Bearer eyJ0eXAiOiJKV1QiLCJraWQiOiI2MWEzOTAxZC05NDdhLTQ0MjYtYjIzMy01NjE3NDFmNTE1ODIiLCJhbGciOiJSUzUxMiJ9.eyJleHAiOjE3NDE0OTc0NTEsIm5iZiI6MTczODkwNTQ1MSwiaXNzIjoiYXJibSIsInN1YiI6ImFyYm0iLCJqdGkiOiIwNDNjMjIyYS1iZWNlLTQzNmYtOGYzNS0yNDQzNTQ5OTQwYTIifQ.jB09Gg2M8-jK6DaWcEMwN_aYreK7LSqQIpTJg_em-iCWR7BlaqzpYmvD-eMhcZHIPlDt0dqAlDRqDdUO_hAcs0IYrGtUzX3G3RcLVRHI_8hhDjvdjTR5LSABPdp9ihia02LGk4kuAa9SHO4us_iZJRG_GEAoXhlw7mqx5aRlaiD4uPiKrr6owcraS9PMtcZPUVsAsUwq4PGw2YgPOVE7LiDpGYH7xQe9aErJ1i8XWqLF2EdVW3ABlUcGXm027h3adKJHcQX4noDAuKCvFrb5qNpBc6Ld_u0KXzLfbJVwSNBVMKg8xTZrjZJcCQE3pV2PsizAAeEru1NejR07KEvpWNOODIxYyGuY3v8pIhmPiLOwdDZ5hOIifOFUauHDa1bo8ZvHScuKI2OAxDnuPrqqQtHFbuJCmsrB8dLmRqJEPPQ76vcUDSLoHixAXTVVf0pkWB2S2ApgwuIhjpCjsyG7aol1IPLVVgmf3LAAp-dc0dL3-DhHn9Pyq22cg7VqeFXGCdDVA4h8LVhIMf90AxTdT8zMzsLPl4UWQvsgUn-3Yadz4KHLptzKpiLK9OfORYnM3oEqDlywGiC2eYmq3MjOG3Cd4eil6pa2_8UILowExtifaAT-jL_srOVuGixrOcK1vYbdMeIWVoLC10nrDJQO04pzNkKGoHFVoI3g0CXxNSA\"]>, uri: https://alrajhi-private.feedzai.com/api/referenceData/customers/418733, method: PATCH",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-9",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5976b203ae6e07ac1077db17fdc38",
            "spanId": "7ac1077db17fdc38",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.019",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.019Z",
            "@version": "1",
            "message": "FEEDZAI: 0.1 Initial Crr header: org.springframework.security.web.firewall.StrictHttpFirewall$StrictFirewalledRequest$2@d99aee2 , request: SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@2acd6a03], method: PATCH ,body: {\n  \"customer_id\": \"418733\",\n  \"customer_type\": \"individual\",\n  \"customer_number_of_cards\": 1,\n  \"customer_cards\": [\n    {\n      \"card_id\": \"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\"\n    }\n  ]\n}",
            "logger_name": "com.arbm.digibank.controller.GatewayController",
            "thread_name": "http-nio-8080-exec-9",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5976b203ae6e07ac1077db17fdc38",
            "spanId": "7ac1077db17fdc38",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.019",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.019Z",
            "@version": "1",
            "message": "FEEDZAI: 1 request url for feedzai call /api/referenceData/customers/418733",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-9",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5976b203ae6e07ac1077db17fdc38",
            "spanId": "7ac1077db17fdc38",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:31.018",
        "kubernetes.container_name": "reference-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:31.018Z",
            "@version": "1",
            "message": "patch request to feedzai to update customer reference for accountId: 418733",
            "logger_name": "com.arbm.digibank.service.FeedzaiReferenceCustomerService",
            "thread_name": "org.springframework.kafka.KafkaListenerEndpointContainer#7-0-C-1",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "reference-monitoring-service",
            "traceId": "67a5976a6e671f6a4e33d99e42415493",
            "spanId": "6210ce1e0e606ec3",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.912",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.911Z",
            "@version": "1",
            "message": "Record pushed with content ProducerRecord(topic=card.card-service.reference.v1, partition=null, headers=RecordHeaders(headers = [RecordHeader(key = x-amzn-trace-id, value = [82, 111, 111, 116, 61, 49, 45, 54, 55, 97, 53, 57, 55, 54, 97, 45, 54, 101, 54, 55, 49, 102, 54, 97, 52, 101, 51, 51, 100, 57, 57, 101, 52, 50, 52, 49, 53, 52, 57, 51, 59, 80, 97, 114, 101, 110, 116, 61, 101, 52, 100, 99, 53, 98, 97, 53, 49, 49, 100, 48, 51, 56, 97, 49, 59, 83, 97, 109, 112, 108, 101, 100, 61, 48])], isReadOnly = true), key=ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7, value={\"cardId\": \"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\", \"customerId\": \"418733\", \"accountId\": \"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\", \"accountNumber\": \"912010110000193\", \"cardEffectiveDate\": null, \"cardExpirationDate\": \"2904\", \"cardholderName\": null, \"cardType\": \"DEBIT\", \"cardCategory\": \"physical\", \"cardBrand\": \"MYD\", \"cardIssuer\": \"ARBM\", \"cardCountryCode\": \"MY\", \"cardLast4\": null, \"cardStatus\": null, \"cardTransactionAmountLimit\": null, \"secure3dValCode\": null, \"cardNumberOfCardholders\": 1, \"accountNumberOfCards\": 1, \"customerNumberOfCards\": 1}, timestamp=null)",
            "logger_name": "com.arbm.digibank.publisher.BankMessagePublisher",
            "thread_name": "kafka-producer-network-thread | producer-2",
            "level": "DEBUG",
            "level_value": 10000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5976a6e671f6a4e33d99e42415493",
            "spanId": "e4dc5ba511d038a1",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.910",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.91Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.OkhttpLoggingInterceptor",
            "thread_name": "DefaultDispatcher-worker-4",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards",
            "data": {
                "requestId": "SWTRA 202502071317307150676493",
                "functionId": "http://card-monitoring-service.card-monitoring-service.svc.cluster.local:8080/v1/card/transaction",
                "input": "{\"account_id\":\"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\",\"lifecycle_id\":\"SWTRA 202502071317307150676493\",\"mti\":\"0200\",\"card_pan\":\"4321XXXXXXXX2271\",\"card_bin\":\"432134\",\"ttc\":\"00\",\"currency_code\":\"458\",\"amount\":107.9,\"cardholder_bill_amount\":107.9,\"pos_card_read_method\":\"0007\",\"mcc\":\"5812\",\"action_code\":\"\",\"acceptor_id\":\"CARD ACCEPTOR  SENMU\",\"account_number\":\"912010110000193\",\"customer_id\":\"418733\",\"event_occurred_at\":1738905450715,\"card_id\":\"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\",\"currency_unit\":2,\"acceptor_name\":\"PUBLIC BANK BERHAD    KUALA LUMPUR    MY\",\"acceptor_country_code\":\"458\",\"acceptor_zip\":\"KUL\",\"event_external_id\":\"\",\"card_expiration_date\":\"2904\",\"cvv_val_code\":\"X\",\"card_type\":\"DEBIT\",\"card_brand\":\"MYD\",\"card_presence_flag\":\"Y\",\"card_country_code\":\"MY\",\"account_type\":\"savings\",\"terminal_id\":\"41023483\",\"card_category\":\"physical\",\"cardholder_bill_currency_code\":\"458\",\"recurring_payment\":\"00\",\"secure_3d_val_status\":\"\",\"terminal_zip\":\"\"}",
                "result": "{\"status\":\"OK\",\"lifecycle_id\":\"SWTRA 202502071317307150676493\",\"event_external_id\":\"f5dcf088-b814-433b-a9db-f61ee15e232b\",\"action_codes\":[\"[Cards-Velocity-6]\"],\"secondary_action_codes\":[],\"alert\":true,\"score\":0,\"decision\":\"decline\",\"sca_required\":true}",
                "processTime": 142
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.910",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.91Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "DefaultDispatcher-worker-4",
            "level": "ERROR",
            "level_value": 40000,
            "bc": "cards",
            "data": {
                "requestId": "\"SWTRA 202502071317307150676493\"",
                "functionId": "CardMonitoringService.checkFraml",
                "input": {
                    "requestId": "\"SWTRA 202502071317307150676493\"",
                    "request": "{\"cicId\":\"0000000000418733\",\"transferType\":\"D\",\"accountBranchCode\":\"91201\",\"accountNumber\":\"0110000193\",\"accountRelationType\":\"700\",\"amount\":107.9,\"startDate\":\"20250207\",\"rrn\":\"503805066501\",\"messageTypeIndicator\":\"0200\",\"pan\":\"4321XXXXXXXX2271\",\"tcc\":\"00\",\"currencyCode\":\"458\",\"amountInOriginalCurrency\":10790,\"cardHolderBillCurrencyCode\":\"458\",\"cardHolderBillAmount\":10790.0,\"cardExpiry\":\"2904\",\"lifeCycleId\":\"SWTRA 202502071317307150676493\",\"posReadMethod\":\"0007\",\"mcc\":\"5812\",\"acceptorId\":\"CARD ACCEPTOR  SENMU\",\"acceptorName\":\"PUBLIC BANK BERHAD    KUALA LUMPUR    MY\",\"acceptorZip\":\"KUL\",\"acceptorCountryCode\":\"458\",\"cardPresence\":\"Y\",\"cardBIN\":\"432134\",\"cardBrand\":\"MYD\",\"occurredAt\":\"20250207131730715\",\"posCond\":\"00\",\"terminalId\":\"41023483\",\"secure3DValStatus\":\"\",\"cvvValCode\":\"X\",\"posCardHolderVerMethod\":\"\",\"accessCode\":null,\"remarks\":\"07/02/2025 13:17:30 MYDEBIT PURCHASE 503805066501 PUBLIC BANK BER MYR 107.90\",\"feeAmount\":0.0,\"functionId\":\"MYDPU\",\"denomination\":\"MYR\"}",
                    "savingAccount": "{\"accountId\":\"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\",\"accountNumber\":\"912010110000193\",\"customerId\":\"418733\",\"status\":\"ACTIVE\",\"currency\":\"MYR\",\"openingTimestamp\":\"2022-05-12T08:28:26.628038Z\",\"blockDetails\":null}",
                    "cardId": "\"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\""
                },
                "result": "com.arbm.digibank.exception.AccountNotAvailableException: Account not available from framl with decision is: decline\n\tat com.arbm.digibank.service.CardMonitoringService.checkFraml(CardMonitoringService.kt:65)\n\tat com.arbm.digibank.service.CardMonitoringService$$FastClassBySpringCGLIB$$7ccb2cbe.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n\tat com.arbm.digibank.interceptor.MethodLogInterceptor$logAround$2$1.invokeSuspend(MethodLogInterceptor.kt:52)\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n\tat kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\n\tat kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n\tat kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n\tat kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n\tat com.arbm.digibank.interceptor.MethodLogInterceptor.logAround(MethodLogInterceptor.kt:51)\n\tat com.arbm.digibank.interceptor.ServiceLogInterceptor.logServiceCall(ServiceLogInterceptor.kt:41)\n\tat jdk.internal.reflect.GeneratedMethodAccessor265.invoke(Unknown Source)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n\tat com.arbm.digibank.service.CardMonitoringService$$EnhancerBySpringCGLIB$$423e5fdf.checkFraml(<generated>)\n\tat com.arbm.digibank.service.CardPaymentService$doAtmDebitCreditSuspended$2$framlCheckJob$1.invokeSuspend(CardPaymentService.kt:241)\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n\tat kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\n\tat kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\n",
                "processTime": 143
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.908",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.908Z",
            "@version": "1",
            "message": "publishAsyncCardReferenceEvent: cardIdca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7  customerId418733",
            "logger_name": "com.arbm.digibank.service.CardReferenceEventServicesImpl",
            "thread_name": "task-178",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5976a6e671f6a4e33d99e42415493",
            "spanId": "bb19f5718df621bf",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.908",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.908Z",
            "@version": "1",
            "message": "storeRequest: class AuthorizationRequestSchema {\n    mti: 0200\n    cardPan: 4321XXXXXXXX2271\n    ttc: 00\n    currencyCode: MYR\n    amount: 10790\n    cardholderBillAmount: 10790\n    lifecycleId: SWTRA 202502071317307150676493\n    posCardReadMethod: 0000\n    mcc: 5812\n    actionCode: \n    acceptorId: CARD ACCEPTOR  SENMU\n    acceptorCountryCode: MY\n    eventOccurredAt: 1738905450715\n    cardBin: 432134\n    accountId: d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\n    accountIban: 912010110000193\n    customerId: 418733\n    atc1: null\n    atc2: null\n    currencyUnit: 2\n    transmissionDatetime: null\n    cardholderBillConvRate: null\n    stan: null\n    localDatetime: null\n    cardEffectiveDate: null\n    cardExpirationDate: 2904\n    lifecycleIndicator: null\n    lifecycleSeqNumber: null\n    lifecycleToken: null\n    posCardholderVerMethod: null\n    posEnvironment: null\n    posSecurityCharacteristics: null\n    cardSeqNumber: null\n    functionCode: null\n    reasonCode: null\n    posReadCap: null\n    posCardholderVerCap: null\n    posApprovalCodeLen: null\n    posCardholderRecDataLen: null\n    posAcceptorRecDataLen: null\n    posCardholderDispDataLen: null\n    posAcceptorDispDataLen: null\n    posIccDataLen: null\n    posTrack3Rw: null\n    posCardCaptureCap: null\n    posPinLenCap: null\n    acquirerId: null\n    forwardingInstitutionId: null\n    accountDigitalSignature: null\n    cardholderCertificateNumber: null\n    acceptorCertificateNumber: null\n    xid: null\n    transstain: null\n    posTrack2Data: null\n    posTrack3Data: null\n    retrievalReferenceNumber: null\n    approvalCode: null\n    serviceCode: null\n    terminalId: 41023483\n    acceptorName: PUBLIC BANK BERHAD\n    acceptorStreetAddr: \n    acceptorCity: KUALA LUMPUR\n    acceptorRegion:    \n    acceptorZip: KUL\n    acceptorPhone: null\n    acceptorCustServicePhone: null\n    acceptorAddContactInfo: null\n    acceptorUrl: null\n    acceptorEmail: null\n    posTrack1Data: null\n    amountFees: null\n    cardVerData: null\n    cardholderBillStreetAddr: null\n    cardholderBillZip: null\n    cardholderCompressBillAddr: null\n    cardholderAddIdType: null\n    cardholderAddId: null\n    avsCode: null\n    cardholderBillCurrencyCode: MYR\n    tvr: null\n    transactionSeqCounter: null\n    transactionCategoryCode: null\n    authAgentId: null\n    cardholderPresenceIndicator: null\n    cardPresenceFlag: true\n    fileTransferAckCode: null\n    fileTransferSeqNumber: null\n    returnAmount: null\n    destinationId: null\n    originatorId: null\n    receivingInstitutionId: null\n    eventExternalId: f5dcf088-b814-433b-a9db-f61ee15e232b\n    cvvValCode: X\n    secure3dValCode: null\n    secure3dValStatus: null\n    cardId: ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\n    cardholderName: null\n    cardType: DEBIT\n    cardCategory: physical\n    cardProgram: null\n    cardBrand: MYD\n    cardIssuer: null\n    cardCountryCode: MY\n    cardLast4: null\n    cardStatus: null\n    cardCreditScore: null\n    cardTransactionAmountLimit: null\n    cardCreditLimit: null\n    cardAvailableBalance: null\n    cardNumberOfCardholders: null\n    cardFirstActivationDate: null\n    cardIssuedDate: null\n    accountBic: null\n    accountOpenDate: null\n    accountBalance: null\n    accountCreditLimit: null\n    accountOtbLimit: null\n    accountAvailableCredit: null\n    accountDebtBalance: null\n    accountCashAdvanceBalance: null\n    accountStatus: null\n    accountLastActivity: null\n    accountLastPaymentDate: null\n    accountLastPaymentAmount: null\n    accountPwChangeFlag: null\n    accountRewardsUsedCount: null\n    accountDebtPaymentMethod: null\n    accountNumberOfCards: null\n    accountType: savings\n    accountCurrency: null\n    accountAssociatedCards: null\n    customerAccounts: null\n    customerName: null\n    customerEmail: null\n    customerPhone: null\n    customerPhoneValCode: null\n    customerCitizenIdNumber: null\n    customerPassportNumber: null\n    customerDriverLicense: null\n    customerSsn: null\n    customerTaxNumber: null\n    customerRegistrationDate: null\n    customerStreetAddr: null\n    customerZip: null\n    customerCity: null\n    customerRegion: null\n    customerCountryCode: null\n    customerDob: null\n    customerNumberOfAccounts: null\n    customerTotalBalance: null\n    customerTotalCreditLimit: null\n    customerKycLvl: null\n    customerOccupation: null\n    customerSegment: null\n    customerNumberOfCards: null\n    customerOccupationStatus: null\n    customerRiskRating: null\n    customerCurrency: null\n    customerCards: null\n    terminalTimezone: null\n    terminalStreetAddr: null\n    terminalCity: null\n    terminalRegion: null\n    terminalZip: \n    terminalCountryCode: null\n    terminalLatitude: null\n    terminalLongitude: null\n    terminalIp: null\n    terminalIpLatitude: null\n    terminalIpLongitude: null\n    terminalIpZip: null\n    terminalIpCity: null\n    terminalIpRegion: null\n    terminalIpCountryCode: null\n    terminalPocFlag: null\n    acceptorDbaName: null\n    acceptorTaxNumber: null\n    sic: null\n    acceptorOpenDate: null\n    acceptorRiskyFlag: null\n    acceptorRisk: null\n    acceptorVisaRisk: null\n    acceptorMastercardRisk: null\n    acceptorPhoneValCode: null\n    acceptorLatitude: null\n    acceptorLongitude: null\n    deviceId: null\n    trustedAcceptor: null\n    recurringPayment: false\n    firstRecurringPayment: null\n    referenceFraudRate: null\n    authType: null\n    deviceIp: null\n    deviceIpCountryCode: null\n    customerCountryCodeChangeFlag: null\n    customerEmailChangeFlag: null\n    customerPhoneChangeFlag: null\n    deviceIpLatitude: null\n    deviceIpLongitude: null\n    malwareFlag: null\n    proxyFlag: null\n    deviceLanguage: null\n    lastScaAt: null\n    loginSessionId: null\n    sessionId: null\n    merchantInitiated: null\n    deviceFingerprint: null\n}",
            "logger_name": "com.arbm.digibank.service.CardMonitoringStoreServicesImpl",
            "thread_name": "task-179",
            "level": "DEBUG",
            "level_value": 10000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5976a6e671f6a4e33d99e42415493",
            "spanId": "a2f5fa97c2f2d230",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.908",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.908Z",
            "@version": "1",
            "message": "publishAsyncCardReferenceEvent: full event class AuthorizationRequestSchema {\n    mti: 0200\n    cardPan: 4321XXXXXXXX2271\n    ttc: 00\n    currencyCode: MYR\n    amount: 10790\n    cardholderBillAmount: 10790\n    lifecycleId: SWTRA 202502071317307150676493\n    posCardReadMethod: 0000\n    mcc: 5812\n    actionCode: \n    acceptorId: CARD ACCEPTOR  SENMU\n    acceptorCountryCode: MY\n    eventOccurredAt: 1738905450715\n    cardBin: 432134\n    accountId: d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\n    accountIban: 912010110000193\n    customerId: 418733\n    atc1: null\n    atc2: null\n    currencyUnit: 2\n    transmissionDatetime: null\n    cardholderBillConvRate: null\n    stan: null\n    localDatetime: null\n    cardEffectiveDate: null\n    cardExpirationDate: 2904\n    lifecycleIndicator: null\n    lifecycleSeqNumber: null\n    lifecycleToken: null\n    posCardholderVerMethod: null\n    posEnvironment: null\n    posSecurityCharacteristics: null\n    cardSeqNumber: null\n    functionCode: null\n    reasonCode: null\n    posReadCap: null\n    posCardholderVerCap: null\n    posApprovalCodeLen: null\n    posCardholderRecDataLen: null\n    posAcceptorRecDataLen: null\n    posCardholderDispDataLen: null\n    posAcceptorDispDataLen: null\n    posIccDataLen: null\n    posTrack3Rw: null\n    posCardCaptureCap: null\n    posPinLenCap: null\n    acquirerId: null\n    forwardingInstitutionId: null\n    accountDigitalSignature: null\n    cardholderCertificateNumber: null\n    acceptorCertificateNumber: null\n    xid: null\n    transstain: null\n    posTrack2Data: null\n    posTrack3Data: null\n    retrievalReferenceNumber: null\n    approvalCode: null\n    serviceCode: null\n    terminalId: 41023483\n    acceptorName: PUBLIC BANK BERHAD\n    acceptorStreetAddr: \n    acceptorCity: KUALA LUMPUR\n    acceptorRegion:    \n    acceptorZip: KUL\n    acceptorPhone: null\n    acceptorCustServicePhone: null\n    acceptorAddContactInfo: null\n    acceptorUrl: null\n    acceptorEmail: null\n    posTrack1Data: null\n    amountFees: null\n    cardVerData: null\n    cardholderBillStreetAddr: null\n    cardholderBillZip: null\n    cardholderCompressBillAddr: null\n    cardholderAddIdType: null\n    cardholderAddId: null\n    avsCode: null\n    cardholderBillCurrencyCode: MYR\n    tvr: null\n    transactionSeqCounter: null\n    transactionCategoryCode: null\n    authAgentId: null\n    cardholderPresenceIndicator: null\n    cardPresenceFlag: true\n    fileTransferAckCode: null\n    fileTransferSeqNumber: null\n    returnAmount: null\n    destinationId: null\n    originatorId: null\n    receivingInstitutionId: null\n    eventExternalId: f5dcf088-b814-433b-a9db-f61ee15e232b\n    cvvValCode: X\n    secure3dValCode: null\n    secure3dValStatus: null\n    cardId: ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\n    cardholderName: null\n    cardType: DEBIT\n    cardCategory: physical\n    cardProgram: null\n    cardBrand: MYD\n    cardIssuer: null\n    cardCountryCode: MY\n    cardLast4: null\n    cardStatus: null\n    cardCreditScore: null\n    cardTransactionAmountLimit: null\n    cardCreditLimit: null\n    cardAvailableBalance: null\n    cardNumberOfCardholders: null\n    cardFirstActivationDate: null\n    cardIssuedDate: null\n    accountBic: null\n    accountOpenDate: null\n    accountBalance: null\n    accountCreditLimit: null\n    accountOtbLimit: null\n    accountAvailableCredit: null\n    accountDebtBalance: null\n    accountCashAdvanceBalance: null\n    accountStatus: null\n    accountLastActivity: null\n    accountLastPaymentDate: null\n    accountLastPaymentAmount: null\n    accountPwChangeFlag: null\n    accountRewardsUsedCount: null\n    accountDebtPaymentMethod: null\n    accountNumberOfCards: null\n    accountType: savings\n    accountCurrency: null\n    accountAssociatedCards: null\n    customerAccounts: null\n    customerName: null\n    customerEmail: null\n    customerPhone: null\n    customerPhoneValCode: null\n    customerCitizenIdNumber: null\n    customerPassportNumber: null\n    customerDriverLicense: null\n    customerSsn: null\n    customerTaxNumber: null\n    customerRegistrationDate: null\n    customerStreetAddr: null\n    customerZip: null\n    customerCity: null\n    customerRegion: null\n    customerCountryCode: null\n    customerDob: null\n    customerNumberOfAccounts: null\n    customerTotalBalance: null\n    customerTotalCreditLimit: null\n    customerKycLvl: null\n    customerOccupation: null\n    customerSegment: null\n    customerNumberOfCards: null\n    customerOccupationStatus: null\n    customerRiskRating: null\n    customerCurrency: null\n    customerCards: null\n    terminalTimezone: null\n    terminalStreetAddr: null\n    terminalCity: null\n    terminalRegion: null\n    terminalZip: \n    terminalCountryCode: null\n    terminalLatitude: null\n    terminalLongitude: null\n    terminalIp: null\n    terminalIpLatitude: null\n    terminalIpLongitude: null\n    terminalIpZip: null\n    terminalIpCity: null\n    terminalIpRegion: null\n    terminalIpCountryCode: null\n    terminalPocFlag: null\n    acceptorDbaName: null\n    acceptorTaxNumber: null\n    sic: null\n    acceptorOpenDate: null\n    acceptorRiskyFlag: null\n    acceptorRisk: null\n    acceptorVisaRisk: null\n    acceptorMastercardRisk: null\n    acceptorPhoneValCode: null\n    acceptorLatitude: null\n    acceptorLongitude: null\n    deviceId: null\n    trustedAcceptor: null\n    recurringPayment: false\n    firstRecurringPayment: null\n    referenceFraudRate: null\n    authType: null\n    deviceIp: null\n    deviceIpCountryCode: null\n    customerCountryCodeChangeFlag: null\n    customerEmailChangeFlag: null\n    customerPhoneChangeFlag: null\n    deviceIpLatitude: null\n    deviceIpLongitude: null\n    malwareFlag: null\n    proxyFlag: null\n    deviceLanguage: null\n    lastScaAt: null\n    loginSessionId: null\n    sessionId: null\n    merchantInitiated: null\n    deviceFingerprint: null\n}",
            "logger_name": "com.arbm.digibank.service.CardReferenceEventServicesImpl",
            "thread_name": "task-178",
            "level": "DEBUG",
            "level_value": 10000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5976a6e671f6a4e33d99e42415493",
            "spanId": "bb19f5718df621bf",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.908",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.908Z",
            "@version": "1",
            "message": "start publish card.card-service.reference.v1 event content: {\"cardId\": \"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\", \"customerId\": \"418733\", \"accountId\": \"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\", \"accountNumber\": \"912010110000193\", \"cardEffectiveDate\": null, \"cardExpirationDate\": \"2904\", \"cardholderName\": null, \"cardType\": \"DEBIT\", \"cardCategory\": \"physical\", \"cardBrand\": \"MYD\", \"cardIssuer\": \"ARBM\", \"cardCountryCode\": \"MY\", \"cardLast4\": null, \"cardStatus\": null, \"cardTransactionAmountLimit\": null, \"secure3dValCode\": null, \"cardNumberOfCardholders\": 1, \"accountNumberOfCards\": 1, \"customerNumberOfCards\": 1}",
            "logger_name": "com.arbm.digibank.publisher.BankMessagePublisher",
            "thread_name": "task-178",
            "level": "DEBUG",
            "level_value": 10000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5976a6e671f6a4e33d99e42415493",
            "spanId": "bb19f5718df621bf",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.908",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.908Z",
            "@version": "1",
            "message": "start publish record: ProducerRecord(topic=card.card-service.reference.v1, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7, value={\"cardId\": \"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\", \"customerId\": \"418733\", \"accountId\": \"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\", \"accountNumber\": \"912010110000193\", \"cardEffectiveDate\": null, \"cardExpirationDate\": \"2904\", \"cardholderName\": null, \"cardType\": \"DEBIT\", \"cardCategory\": \"physical\", \"cardBrand\": \"MYD\", \"cardIssuer\": \"ARBM\", \"cardCountryCode\": \"MY\", \"cardLast4\": null, \"cardStatus\": null, \"cardTransactionAmountLimit\": null, \"secure3dValCode\": null, \"cardNumberOfCardholders\": 1, \"accountNumberOfCards\": 1, \"customerNumberOfCards\": 1}, timestamp=null)",
            "logger_name": "com.arbm.digibank.publisher.BankMessagePublisher",
            "thread_name": "task-178",
            "level": "DEBUG",
            "level_value": 10000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5976a6e671f6a4e33d99e42415493",
            "spanId": "bb19f5718df621bf",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.908",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.908Z",
            "@version": "1",
            "message": "Kafka ProducerInterceptor topic: {card.card-service.reference.v1}, partition: {null}, headers: {RecordHeaders(headers = [RecordHeader(key = x-amzn-trace-id, value = [82, 111, 111, 116, 61, 49, 45, 54, 55, 97, 53, 57, 55, 54, 97, 45, 54, 101, 54, 55, 49, 102, 54, 97, 52, 101, 51, 51, 100, 57, 57, 101, 52, 50, 52, 49, 53, 52, 57, 51, 59, 80, 97, 114, 101, 110, 116, 61, 101, 52, 100, 99, 53, 98, 97, 53, 49, 49, 100, 48, 51, 56, 97, 49, 59, 83, 97, 109, 112, 108, 101, 100, 61, 48])], isReadOnly = false)}, payload: {{\"cardId\": \"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\", \"customerId\": \"418733\", \"accountId\": \"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\", \"accountNumber\": \"912010110000193\", \"cardEffectiveDate\": null, \"cardExpirationDate\": \"2904\", \"cardholderName\": null, \"cardType\": \"DEBIT\", \"cardCategory\": \"physical\", \"cardBrand\": \"MYD\", \"cardIssuer\": \"ARBM\", \"cardCountryCode\": \"MY\", \"cardLast4\": null, \"cardStatus\": null, \"cardTransactionAmountLimit\": null, \"secure3dValCode\": null, \"cardNumberOfCardholders\": 1, \"accountNumberOfCards\": 1, \"customerNumberOfCards\": 1}}",
            "logger_name": "com.arbm.digibank.messaging.interceptor.KafkaLoggingProducerInterceptor",
            "thread_name": "task-178",
            "level": "DEBUG",
            "level_value": 10000,
            "springAppName": "card-monitoring-service",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.807",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.807Z",
            "@version": "1",
            "message": "FEEDZAI: 5.2 transfer request body {\"mti\":\"0200\",\"card_pan\":\"4321XXXXXXXX2271\",\"ttc\":\"00\",\"currency_code\":\"MYR\",\"amount\":10790,\"cardholder_bill_amount\":10790,\"lifecycle_id\":\"SWTRA 202502071317307150676493\",\"pos_card_read_method\":\"0000\",\"mcc\":\"5812\",\"action_code\":\"\",\"acceptor_id\":\"CARD ACCEPTOR  SENMU\",\"acceptor_country_code\":\"MY\",\"event_occurred_at\":1738905450715,\"card_bin\":\"432134\",\"account_id\":\"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\",\"account_iban\":\"912010110000193\",\"customer_id\":\"418733\",\"currency_unit\":2,\"card_expiration_date\":\"2904\",\"terminal_id\":\"41023483\",\"acceptor_name\":\"PUBLIC BANK BERHAD\",\"acceptor_street_addr\":\"\",\"acceptor_city\":\"KUALA LUMPUR\",\"acceptor_region\":\"   \",\"acceptor_zip\":\"KUL\",\"cardholder_bill_currency_code\":\"MYR\",\"card_presence_flag\":true,\"event_external_id\":\"f5dcf088-b814-433b-a9db-f61ee15e232b\",\"cvv_val_code\":\"X\",\"card_id\":\"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\",\"card_type\":\"DEBIT\",\"card_category\":\"physical\",\"card_brand\":\"MYD\",\"card_country_code\":\"MY\",\"account_type\":\"savings\",\"terminal_zip\":\"\",\"recurring_payment\":false}",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-6",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5976ace1bacf428df82ec915c502f",
            "spanId": "28df82ec915c502f",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.807",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.807Z",
            "@version": "1",
            "message": "FEEDZAI: 6 print httpEntity: <{\"mti\":\"0200\",\"card_pan\":\"4321XXXXXXXX2271\",\"ttc\":\"00\",\"currency_code\":\"MYR\",\"amount\":10790,\"cardholder_bill_amount\":10790,\"lifecycle_id\":\"SWTRA 202502071317307150676493\",\"pos_card_read_method\":\"0000\",\"mcc\":\"5812\",\"action_code\":\"\",\"acceptor_id\":\"CARD ACCEPTOR  SENMU\",\"acceptor_country_code\":\"MY\",\"event_occurred_at\":1738905450715,\"card_bin\":\"432134\",\"account_id\":\"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\",\"account_iban\":\"912010110000193\",\"customer_id\":\"418733\",\"currency_unit\":2,\"card_expiration_date\":\"2904\",\"terminal_id\":\"41023483\",\"acceptor_name\":\"PUBLIC BANK BERHAD\",\"acceptor_street_addr\":\"\",\"acceptor_city\":\"KUALA LUMPUR\",\"acceptor_region\":\"   \",\"acceptor_zip\":\"KUL\",\"cardholder_bill_currency_code\":\"MYR\",\"card_presence_flag\":true,\"event_external_id\":\"f5dcf088-b814-433b-a9db-f61ee15e232b\",\"cvv_val_code\":\"X\",\"card_id\":\"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\",\"card_type\":\"DEBIT\",\"card_category\":\"physical\",\"card_brand\":\"MYD\",\"card_country_code\":\"MY\",\"account_type\":\"savings\",\"terminal_zip\":\"\",\"recurring_payment\":false},[user-agent:\"ReactorNetty/1.0.24\", accept:\"application/json\", content-type:\"application/json\", content-length:\"1022\", x-forwarded-proto:\"http\", x-request-id:\"f120e1f2-ab71-9af0-8c84-5fdd91ebd2ea\", x-envoy-expected-rq-timeout-ms:\"200000\", Authorization:\"Bearer eyJ0eXAiOiJKV1QiLCJraWQiOiI2MWEzOTAxZC05NDdhLTQ0MjYtYjIzMy01NjE3NDFmNTE1ODIiLCJhbGciOiJSUzUxMiJ9.eyJleHAiOjE3NDE0OTc0NTAsIm5iZiI6MTczODkwNTQ1MCwiaXNzIjoiYXJibSIsInN1YiI6ImFyYm0iLCJqdGkiOiIyNmM2ZTRkMi1iZTI2LTQxMTYtYTI4MC01Mzc0YmU3OGE3ZTQifQ.e_YRIj3hO_htbZKpIoyxhXhFwILb-8-DwAoRJifD7UItRVchaBth3hbO5MZ8Zb1DOzXCUxTi4oGnEZCr_sISU8kgVkQp_8Dpbq-NDbJoIoyynCaqsBQZHBhJcraMF73fEca_gqi_IkuzTb_8mJMQs4LC0sB6_O3P3V8z5iH8kJBfib5wI_FwU_Mk1CygONw2_UljFIxS5VTDgnjF3Wq4-n1Ujc4yC-OIE934gwl3EEkDHa6OVk6bYIeM47o86Jflckfj1BPfUyHn-ehIbKrESyBut6CeKWcgCHYUOTkJ_o23jSChVu_u840ZC1h0yVg9h2_OpcMKob0lBeYLOTYRrqleQ66iEPY64FuiQuO5IzISdMNzkja6FQ0gmuqXA7qfsTlpxWD04YQ33vep6X1cS8UBr2UGGP0eTmtUuNQ3yCzBgX0rBxMicBv_aVtWoI7ujiOLCsDyBtaVHEsVKtFS2clJMENHyPbCOnMY_Yzvpq6fy2rnwjgMPhd2la_ryY3tIlcyW6J7sNGakvOyDftsK1cXr0ZnQix3r1n3YEIk7bWxQDgnPQK9-3GQcBSjJKcicxylyPCtgsv6jeDspgTP_qi4tHJ3WhSQCDworl7IC63CYTGVT81jpq-BAIR00p3FJoSAPGF9nj_hrQL5WtN1_-8o6o6rwPnAYETqgYHK7w0\"]>, uri: https://alrajhi-private.feedzai.com/api/transactions/authorization, method: POST",
            "logger_name": "com.arbm.digibank.services.FeedzaiProxyService",
            "thread_name": "http-nio-8080-exec-6",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5976ace1bacf428df82ec915c502f",
            "spanId": "28df82ec915c502f",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.779",
        "kubernetes.container_name": "feedzai-gateway",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.779Z",
            "@version": "1",
            "message": "FEEDZAI: 0.1 Initial Crr header: org.springframework.security.web.firewall.StrictHttpFirewall$StrictFirewalledRequest$2@5896f6a8 , request: SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@3e560334], method: POST ,body: {\"mti\":\"0200\",\"card_pan\":\"4321XXXXXXXX2271\",\"ttc\":\"00\",\"currency_code\":\"MYR\",\"amount\":10790,\"cardholder_bill_amount\":10790,\"lifecycle_id\":\"SWTRA 202502071317307150676493\",\"pos_card_read_method\":\"0000\",\"mcc\":\"5812\",\"action_code\":\"\",\"acceptor_id\":\"CARD ACCEPTOR  SENMU\",\"acceptor_country_code\":\"MY\",\"event_occurred_at\":1738905450715,\"card_bin\":\"432134\",\"account_id\":\"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\",\"account_iban\":\"912010110000193\",\"customer_id\":\"418733\",\"currency_unit\":2,\"card_expiration_date\":\"2904\",\"terminal_id\":\"41023483\",\"acceptor_name\":\"PUBLIC BANK BERHAD\",\"acceptor_street_addr\":\"\",\"acceptor_city\":\"KUALA LUMPUR\",\"acceptor_region\":\"   \",\"acceptor_zip\":\"KUL\",\"cardholder_bill_currency_code\":\"MYR\",\"card_presence_flag\":true,\"event_external_id\":\"f5dcf088-b814-433b-a9db-f61ee15e232b\",\"cvv_val_code\":\"X\",\"card_id\":\"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\",\"card_type\":\"DEBIT\",\"card_category\":\"physical\",\"card_brand\":\"MYD\",\"card_country_code\":\"MY\",\"account_type\":\"savings\",\"terminal_zip\":\"\",\"recurring_payment\":false}",
            "logger_name": "com.arbm.digibank.controller.GatewayController",
            "thread_name": "http-nio-8080-exec-6",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "feedzai-gateway",
            "traceId": "67a5976ace1bacf428df82ec915c502f",
            "spanId": "28df82ec915c502f",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.776",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.776Z",
            "@version": "1",
            "message": "Post Card Authorization information: {\"mti\":\"0200\",\"card_pan\":\"4321XXXXXXXX2271\",\"ttc\":\"00\",\"currency_code\":\"MYR\",\"amount\":10790,\"cardholder_bill_amount\":10790,\"lifecycle_id\":\"SWTRA 202502071317307150676493\",\"pos_card_read_method\":\"0000\",\"mcc\":\"5812\",\"action_code\":\"\",\"acceptor_id\":\"CARD ACCEPTOR  SENMU\",\"acceptor_country_code\":\"MY\",\"event_occurred_at\":1738905450715,\"card_bin\":\"432134\",\"account_id\":\"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\",\"account_iban\":\"912010110000193\",\"customer_id\":\"418733\",\"currency_unit\":2,\"card_expiration_date\":\"2904\",\"terminal_id\":\"41023483\",\"acceptor_name\":\"PUBLIC BANK BERHAD\",\"acceptor_street_addr\":\"\",\"acceptor_city\":\"KUALA LUMPUR\",\"acceptor_region\":\"   \",\"acceptor_zip\":\"KUL\",\"cardholder_bill_currency_code\":\"MYR\",\"card_presence_flag\":true,\"event_external_id\":\"f5dcf088-b814-433b-a9db-f61ee15e232b\",\"cvv_val_code\":\"X\",\"card_id\":\"ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7\",\"card_type\":\"DEBIT\",\"card_category\":\"physical\",\"card_brand\":\"MYD\",\"card_country_code\":\"MY\",\"account_type\":\"savings\",\"terminal_zip\":\"\",\"recurring_payment\":false}",
            "logger_name": "com.arbm.digibank.service.client.FeedzaiClientService",
            "thread_name": "http-nio-8080-exec-6",
            "level": "DEBUG",
            "level_value": 10000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5976a6e671f6a4e33d99e42415493",
            "spanId": "4e33d99e42415493",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.771",
        "kubernetes.container_name": "card-monitoring-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.771Z",
            "@version": "1",
            "message": "<<<<< Start Monitoring transaction for card CardTransactionRequestV1(lifecycleId=SWTRA 202502071317307150676493, accountId=d94716c6-9ed6-d9a1-9b26-d2bfc14811d5, mti=0200, cardPan=4321XXXXXXXX2271, cardBin=432134, ttc=00, currencyCode=458, amount=107.9, cardholderBillAmount=107.9, posCardReadMethod=0007, mcc=5812, actionCode=, acceptorId=CARD ACCEPTOR  SENMU, accountNumber=912010110000193, customerId=418733, eventOccurredAt=1738905450715, cardId=ca6ff7e7-b0ab-4515-b74a-0b8cdbaca9a7, currencyUnit=2, acceptorName=PUBLIC BANK BERHAD    KUALA LUMPUR    MY, acceptorCountryCode=458, acceptorZip=KUL, eventExternalId=, cardExpirationDate=2904, cvvValCode=X, cardType=DEBIT, cardBrand=MYD, cardPresenceFlag=Y, cardCountryCode=MY, accountType=savings, terminalCity=null, terminalId=41023483, terminalCountryCode=null, cardCategory=physical, cardholderBillCurrencyCode=458, recurringPayment=00, secure3dValStatus=, terminalZip=)",
            "logger_name": "com.arbm.digibank.controller.CardMonitoringController",
            "thread_name": "http-nio-8080-exec-6",
            "level": "INFO",
            "level_value": 20000,
            "springAppName": "card-monitoring-service",
            "traceId": "67a5976a6e671f6a4e33d99e42415493",
            "spanId": "4e33d99e42415493",
            "bc": "framl"
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.766",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.766Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.OkhttpLoggingInterceptor",
            "thread_name": "http-nio-8080-exec-8",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards",
            "traceId": "67a5976afb4638ae8f6638bd24b33676",
            "spanId": "8f6638bd24b33676",
            "RequestId": "SWTRA 202502071317307150676493",
            "data": {
                "requestId": "SWTRA 202502071317307150676493",
                "functionId": "http://deposit-account-service.deposit-account-service.svc.cluster.local:8080/saving-accounts?account_number=912010110000193",
                "input": "",
                "result": "{\"accountId\":\"d94716c6-9ed6-d9a1-9b26-d2bfc14811d5\",\"accountNumber\":\"912010110000193\",\"customerId\":\"418733\",\"status\":\"ACTIVE\",\"currency\":\"MYR\",\"openingTimestamp\":\"2022-05-12T08:28:26.628038Z\",\"activationTimestamp\":null,\"blockDetails\":null}",
                "processTime": 6
            }
        }
    },
    {
        "@timestamp": "2025-02-07 05:17:30.760",
        "kubernetes.container_name": "card-service",
        "logBody": {
            "@timestamp": "2025-02-07T05:17:30.759Z",
            "@version": "1",
            "logger_name": "com.arbm.digibank.interceptor.MethodLogInterceptor",
            "thread_name": "http-nio-8080-exec-8",
            "level": "INFO",
            "level_value": 20000,
            "bc": "cards",
            "traceId": "67a5976afb4638ae8f6638bd24b33676",
            "spanId": "8f6638bd24b33676",
            "RequestId": "SWTRA 202502071317307150676493",
            "data": {
                "requestId": null,
                "functionId": "CustomerRestrictionApiService.isServiceBlocked",
                "input": {
                    "customerId": "\"0000000000418733\"",
                    "serviceCodeToCheck": "\"CARD_TRANSACTION\"",
                    "productType": "\"SAVING_ACCOUNT\"",
                    "productNumber": "\"0110000193\""
                },
                "result": false,
                "processTime": 4
            }
        }
    }
]